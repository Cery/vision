<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能搜索UI测试</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="static/css/main.css" rel="stylesheet">
    <link href="static/css/search.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <h1 class="text-center mb-4">智能搜索UI优化测试</h1>
                <p class="text-center text-muted mb-4">测试搜索建议和搜索结果仅显示标题的优化效果</p>
                
                <!-- 搜索按钮 -->
                <div class="text-center mb-5">
                    <button type="button" class="btn btn-primary btn-lg" data-bs-toggle="modal" data-bs-target="#searchModal">
                        <i class="fas fa-search me-2"></i>
                        打开智能搜索
                    </button>
                </div>

                <!-- 优化说明 -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            优化内容
                        </h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-unstyled">
                            <li class="mb-2">
                                <i class="fas fa-lightbulb text-warning me-2"></i>
                                <strong>搜索建议：</strong>移除了类型标签，仅显示标题
                            </li>
                            <li class="mb-2">
                                <i class="fas fa-search text-primary me-2"></i>
                                <strong>搜索结果：</strong>移除了内容摘要、类型标签和匹配度分数，仅显示标题
                            </li>
                            <li class="mb-2">
                                <i class="fas fa-palette text-info me-2"></i>
                                <strong>样式优化：</strong>调整了间距和布局，使界面更简洁
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 搜索模态框 -->
    <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content search-modal-content">
                <div class="modal-header search-modal-header">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-search text-primary me-2"></i>
                        <h5 class="modal-title" id="searchModalLabel">智能搜索</h5>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="关闭"></button>
                </div>
                <div class="modal-body search-modal-body">
                    <!-- 搜索输入框 -->
                    <div class="search-input-container mb-4">
                        <div class="position-relative">
                            <input type="text" id="searchInput" class="form-control search-input-field"
                                   placeholder="搜索产品、文章、技术资料..."
                                   autocomplete="off">
                            <div class="search-input-actions">
                                <button type="button" class="btn btn-sm btn-outline-secondary" id="clearSearch">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 搜索过滤器 -->
                    <div class="search-filters mb-3">
                        <div class="btn-group" role="group" aria-label="搜索类型">
                            <input type="radio" class="btn-check" name="searchType" id="searchAll" value="all" checked>
                            <label class="btn btn-outline-primary" for="searchAll">
                                <i class="fas fa-globe me-1"></i>全部
                            </label>
                            <input type="radio" class="btn-check" name="searchType" id="searchProduct" value="product">
                            <label class="btn btn-outline-primary" for="searchProduct">
                                <i class="fas fa-cube me-1"></i>产品
                            </label>
                            <input type="radio" class="btn-check" name="searchType" id="searchArticle" value="article">
                            <label class="btn btn-outline-primary" for="searchArticle">
                                <i class="fas fa-newspaper me-1"></i>资讯
                            </label>
                            <input type="radio" class="btn-check" name="searchType" id="searchCase" value="case">
                            <label class="btn btn-outline-primary" for="searchCase">
                                <i class="fas fa-briefcase me-1"></i>案例
                            </label>
                        </div>
                    </div>

                    <!-- 搜索结果容器 -->
                    <div class="search-results-container">
                        <div id="searchResults" class="search-results-content"></div>
                        <div id="searchLoading" class="search-loading" style="display: none;">
                            <div class="d-flex align-items-center justify-content-center py-4">
                                <div class="spinner-border spinner-border-sm text-primary me-2" role="status">
                                    <span class="visually-hidden">搜索中...</span>
                                </div>
                                <span>搜索中...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 模拟搜索索引数据
        window.searchIndex = [
            {title: "WS-DZ60高清三维测量工业视频内窥镜", url: "/products/product-dz60/", content: "高清三维测量工业视频内窥镜，专业检测设备", type: "product"},
            {title: "WS-K1210工业内窥镜", url: "/products/ws-k1210/", content: "高清工业内窥镜，适用于管道检测", type: "product"},
            {title: "WS-K1010工业内窥镜", url: "/products/ws-k1010-a/", content: "WS-K1010工业视频内窥镜兼顾精细直径与良好画质表现", type: "product"},
            {title: "航空发动机检测案例", url: "/cases/aviation/", content: "使用内窥镜检测航空发动机", type: "case"},
            {title: "工业检测设备", url: "/products/industrial-equipment/", content: "专业的工业检测设备和解决方案", type: "product"},
            {title: "内窥镜技术发展趋势", url: "/articles/tech-trends/", content: "探讨内窥镜技术的最新发展趋势", type: "article"},
            {title: "汽车制造检测应用", url: "/cases/automotive/", content: "内窥镜在汽车制造中的应用案例", type: "case"}
        ];
        
        function demoSearch(keyword) {
            const modal = new bootstrap.Modal(document.getElementById('searchModal'));
            modal.show();
            setTimeout(() => {
                document.getElementById('searchInput').value = keyword;
                document.getElementById('searchInput').dispatchEvent(new Event('input'));
            }, 500);
        }
    </script>
    <script src="static/js/search.js"></script>
    <script src="static/js/search-modal.js"></script>
</body>
</html>
