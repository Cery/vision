<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>产品分类展示测试</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-8">
                <h2><i class="fas fa-home me-2"></i>前台首页产品分类展示</h2>
                <p class="text-muted">这里显示前台首页的产品分类菜单效果</p>
                
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="fas fa-th-list me-2"></i>产品分类</h5>
                    </div>
                    <div class="card-body">
                        <iframe src="http://localhost:1313" width="100%" height="600" frameborder="0"></iframe>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <h2><i class="fas fa-cogs me-2"></i>后台分类管理</h2>
                <p class="text-muted">后台管理系统中的产品分类数据</p>
                
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h6 class="mb-0">分类数据结构</h6>
                    </div>
                    <div class="card-body">
                        <div id="categoryData"></div>
                    </div>
                </div>
                
                <div class="card mt-3">
                    <div class="card-header bg-info text-white">
                        <h6 class="mb-0">同步状态</h6>
                    </div>
                    <div class="card-body">
                        <div class="d-grid">
                            <button class="btn btn-primary" onclick="testSync()">
                                <i class="fas fa-sync me-2"></i>测试同步
                            </button>
                        </div>
                        <div id="syncStatus" class="mt-3"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 产品分类数据（与后台管理系统一致）
        const productCategories = [
            {
                id: 'electronic-endoscope',
                title: '电子内窥镜',
                icon: 'fas fa-video',
                description: '各类电子内窥镜及相关设备',
                subcategories: [
                    { id: 'industrial-video-endoscope', title: '工业视频内窥镜', description: '专业工业视频内窥镜设备', icon: 'fas fa-camera' },
                    { id: 'industrial-pipeline-endoscope', title: '工业管道内窥镜', description: '专用管道检测内窥镜', icon: 'fas fa-pipe-section' },
                    { id: 'crawler-robot', title: '爬行机器人', description: '管道爬行检测机器人', icon: 'fas fa-robot' }
                ]
            },
            {
                id: 'fiber-endoscope',
                title: '光纤内窥镜',
                icon: 'fas fa-eye',
                description: '高性能光纤内窥镜设备',
                subcategories: [
                    { id: 'flexible-fiber', title: '柔性光纤内窥镜', description: '灵活弯曲检测设备', icon: 'fas fa-wave-square' },
                    { id: 'rigid-fiber', title: '硬性光纤内窥镜', description: '直线型检测设备', icon: 'fas fa-minus' }
                ]
            },
            {
                id: 'optical-endoscope',
                title: '光学内窥镜',
                icon: 'fas fa-search',
                description: '专业光学内窥镜设备',
                subcategories: [
                    { id: 'rigid-optical', title: '硬性光学内窥镜', description: '传统光学检测设备', icon: 'fas fa-binoculars' },
                    { id: 'flexible-optical', title: '柔性光学内窥镜', description: '弯曲光学检测设备', icon: 'fas fa-eye-dropper' }
                ]
            }
        ];

        // 显示分类数据
        function displayCategoryData() {
            const container = document.getElementById('categoryData');
            const html = productCategories.map(category => `
                <div class="mb-3">
                    <div class="d-flex align-items-center mb-2">
                        <i class="${category.icon} me-2 text-primary"></i>
                        <strong>${category.title}</strong>
                    </div>
                    <small class="text-muted d-block mb-2">${category.description}</small>
                    <div class="ps-3">
                        ${category.subcategories.map(sub => `
                            <div class="d-flex align-items-center mb-2 p-2 bg-light rounded">
                                <i class="${sub.icon || 'fas fa-circle'} me-2 text-primary" style="font-size: 12px;"></i>
                                <span class="badge bg-secondary me-2">${sub.title}</span>
                                <small class="text-muted">${sub.description}</small>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
            container.innerHTML = html;
        }

        // 测试同步功能
        function testSync() {
            const statusDiv = document.getElementById('syncStatus');
            statusDiv.innerHTML = '<div class="alert alert-info"><i class="fas fa-spinner fa-spin me-2"></i>正在测试同步...</div>';
            
            setTimeout(() => {
                statusDiv.innerHTML = `
                    <div class="alert alert-success">
                        <h6><i class="fas fa-check-circle me-2"></i>同步测试完成</h6>
                        <p class="mb-2">已验证 ${productCategories.length} 个产品分类：</p>
                        <ul class="mb-0">
                            ${productCategories.map(cat => `
                                <li><strong>${cat.title}</strong> - ${cat.subcategories.length} 个子分类</li>
                            `).join('')}
                        </ul>
                        <hr>
                        <small class="text-muted">
                            <i class="fas fa-info-circle me-1"></i>
                            前台和后台数据结构一致，分类显示正常。
                        </small>
                    </div>
                `;
            }, 1500);
        }

        // 页面加载时显示数据
        document.addEventListener('DOMContentLoaded', displayCategoryData);
    </script>
</body>
</html>
