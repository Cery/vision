<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®Œæ•´å†…å®¹ç®¡ç†ä¸­å¿ƒ - VisNDT</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .sidebar {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .sidebar .nav-link {
            color: rgba(255,255,255,0.8);
            padding: 12px 20px;
            margin: 2px 0;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        .sidebar .nav-link:hover, .sidebar .nav-link.active {
            color: white;
            background: rgba(255,255,255,0.1);
            transform: translateX(5px);
        }
        .main-content {
            background: #f8f9fa;
            min-height: 100vh;
        }
        .stats-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border: none;
            transition: transform 0.3s ease;
        }
        .stats-card:hover {
            transform: translateY(-5px);
        }
        .stats-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .table-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        .btn-action {
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            margin: 2px;
        }
        .search-box {
            border-radius: 25px;
            border: 2px solid #e9ecef;
            padding: 12px 20px;
            transition: all 0.3s ease;
        }
        .search-box:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
        }
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        .status-published { background: #d4edda; color: #155724; }
        .status-draft { background: #fff3cd; color: #856404; }
        .status-active { background: #d1ecf1; color: #0c5460; }
        .status-inactive { background: #f8d7da; color: #721c24; }
        .loading-spinner {
            display: none;
            text-align: center;
            padding: 50px;
        }
        .error-message {
            display: none;
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .success-message {
            display: none;
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- ä¾§è¾¹æ  -->
            <div class="col-md-3 col-lg-2 sidebar p-0">
                <div class="p-4">
                    <h4 class="text-white mb-4">
                        <i class="fas fa-cogs me-2"></i>
                        å†…å®¹ç®¡ç†
                    </h4>
                    <nav class="nav flex-column">
                        <a class="nav-link active" href="#" onclick="showSection('dashboard')">
                            <i class="fas fa-tachometer-alt me-2"></i>ä»ªè¡¨æ¿
                        </a>
                        <a class="nav-link" href="#" onclick="showSection('products')">
                            <i class="fas fa-box me-2"></i>äº§å“ç®¡ç†
                        </a>
                        <a class="nav-link" href="#" onclick="showSection('suppliers')">
                            <i class="fas fa-truck me-2"></i>ä¾›åº”å•†ç®¡ç†
                        </a>
                        <a class="nav-link" href="#" onclick="showSection('categories')">
                            <i class="fas fa-tags me-2"></i>äº§å“åˆ†ç±»
                        </a>
                        <a class="nav-link" href="#" onclick="showSection('news')">
                            <i class="fas fa-newspaper me-2"></i>èµ„è®¯ç®¡ç†
                        </a>
                        <a class="nav-link" href="#" onclick="showSection('cases')">
                            <i class="fas fa-briefcase me-2"></i>æ¡ˆä¾‹ç®¡ç†
                        </a>
                        <a class="nav-link" href="#" onclick="showSection('applications')">
                            <i class="fas fa-puzzle-piece me-2"></i>åº”ç”¨é¢†åŸŸ
                        </a>
                        <a class="nav-link" href="#" onclick="showSection('media')">
                            <i class="fas fa-images me-2"></i>åª’ä½“åº“
                        </a>
                        <a class="nav-link" href="#" onclick="showSection('settings')">
                            <i class="fas fa-cog me-2"></i>ç³»ç»Ÿè®¾ç½®
                        </a>
                    </nav>
                </div>
            </div>

            <!-- ä¸»å†…å®¹åŒº -->
            <div class="col-md-9 col-lg-10 main-content p-0">
                <div class="p-4">
                    <!-- é¡µé¢æ ‡é¢˜ -->
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2 id="pageTitle">ä»ªè¡¨æ¿</h2>
                        <div class="d-flex gap-2">
                            <button class="btn btn-outline-primary" onclick="refreshData()">
                                <i class="fas fa-sync-alt me-1"></i>åˆ·æ–°æ•°æ®
                            </button>
                            <button class="btn btn-primary" onclick="showAddModal()">
                                <i class="fas fa-plus me-1"></i>æ·»åŠ å†…å®¹
                            </button>
                        </div>
                    </div>

                    <!-- åŠ è½½çŠ¶æ€ -->
                    <div class="loading-spinner" id="loadingSpinner">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">åŠ è½½ä¸­...</span>
                        </div>
                        <p class="mt-3">æ­£åœ¨åŠ è½½æ•°æ®...</p>
                    </div>

                    <!-- é”™è¯¯æ¶ˆæ¯ -->
                    <div class="error-message" id="errorMessage">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <span id="errorText"></span>
                    </div>

                    <!-- æˆåŠŸæ¶ˆæ¯ -->
                    <div class="success-message" id="successMessage">
                        <i class="fas fa-check-circle me-2"></i>
                        <span id="successText"></span>
                    </div>

                    <!-- ä»ªè¡¨æ¿ -->
                    <div id="dashboard" class="content-section active">
                        <div class="row mb-4">
                            <div class="col-md-3 mb-3">
                                <div class="stats-card">
                                    <div class="d-flex align-items-center">
                                        <div class="stats-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                                            <i class="fas fa-box"></i>
                                        </div>
                                        <div class="ms-3">
                                            <h6 class="text-muted mb-1">äº§å“æ€»æ•°</h6>
                                            <h4 class="mb-0" id="productCount">0</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="stats-card">
                                    <div class="d-flex align-items-center">
                                        <div class="stats-icon" style="background: linear-gradient(135deg, #f093fb, #f5576c);">
                                            <i class="fas fa-truck"></i>
                                        </div>
                                        <div class="ms-3">
                                            <h6 class="text-muted mb-1">ä¾›åº”å•†</h6>
                                            <h4 class="mb-0" id="supplierCount">0</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="stats-card">
                                    <div class="d-flex align-items-center">
                                        <div class="stats-icon" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
                                            <i class="fas fa-newspaper"></i>
                                        </div>
                                        <div class="ms-3">
                                            <h6 class="text-muted mb-1">èµ„è®¯æ–‡ç« </h6>
                                            <h4 class="mb-0" id="newsCount">0</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="stats-card">
                                    <div class="d-flex align-items-center">
                                        <div class="stats-icon" style="background: linear-gradient(135deg, #fa709a, #fee140);">
                                            <i class="fas fa-briefcase"></i>
                                        </div>
                                        <div class="ms-3">
                                            <h6 class="text-muted mb-1">åº”ç”¨æ¡ˆä¾‹</h6>
                                            <h4 class="mb-0" id="caseCount">0</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- æœ€è¿‘æ´»åŠ¨ -->
                        <div class="table-container">
                            <h5 class="mb-3">
                                <i class="fas fa-clock me-2"></i>æœ€è¿‘æ´»åŠ¨
                            </h5>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>æ—¶é—´</th>
                                            <th>ç±»å‹</th>
                                            <th>æ ‡é¢˜</th>
                                            <th>çŠ¶æ€</th>
                                            <th>æ“ä½œ</th>
                                        </tr>
                                    </thead>
                                    <tbody id="recentActivities">
                                        <tr>
                                            <td colspan="5" class="text-center text-muted">æš‚æ— æ•°æ®</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- äº§å“ç®¡ç† -->
                    <div id="products" class="content-section">
                        <div class="table-container">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5>
                                    <i class="fas fa-box me-2"></i>äº§å“åˆ—è¡¨
                                </h5>
                                <div class="d-flex gap-2">
                                    <input type="text" class="form-control search-box" placeholder="æœç´¢äº§å“..." id="productSearch" onkeyup="filterProducts()">
                                    <button class="btn btn-success" onclick="addProduct()">
                                        <i class="fas fa-plus me-1"></i>æ·»åŠ äº§å“
                                    </button>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>äº§å“åç§°</th>
                                            <th>å‹å·</th>
                                            <th>åˆ†ç±»</th>
                                            <th>ä¾›åº”å•†</th>
                                            <th>çŠ¶æ€</th>
                                            <th>æ—¥æœŸ</th>
                                            <th>æ“ä½œ</th>
                                        </tr>
                                    </thead>
                                    <tbody id="productList">
                                        <tr>
                                            <td colspan="7" class="text-center text-muted">æ­£åœ¨åŠ è½½æ•°æ®...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // å…¨å±€æ•°æ®å­˜å‚¨
        let projectData = {
            products: [],
            suppliers: [],
            news: [],
            cases: [],
            applications: [],
            categories: []
        };

        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ å†…å®¹ç®¡ç†ä¸­å¿ƒåˆå§‹åŒ–...');
            loadProjectData();
        });

        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
        function showLoading() {
            document.getElementById('loadingSpinner').style.display = 'block';
        }

        // éšè—åŠ è½½çŠ¶æ€
        function hideLoading() {
            document.getElementById('loadingSpinner').style.display = 'none';
        }

        // æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            const errorText = document.getElementById('errorText');
            errorText.textContent = message;
            errorDiv.style.display = 'block';
            setTimeout(() => {
                errorDiv.style.display = 'none';
            }, 5000);
        }

        // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
        function showSuccess(message) {
            const successDiv = document.getElementById('successMessage');
            const successText = document.getElementById('successText');
            successText.textContent = message;
            successDiv.style.display = 'block';
            setTimeout(() => {
                successDiv.style.display = 'none';
            }, 3000);
        }

        // åŠ è½½é¡¹ç›®æ•°æ®
        async function loadProjectData() {
            try {
                showLoading();
                console.log('ğŸ“¡ å¼€å§‹åŠ è½½é¡¹ç›®æ•°æ®...');

                // ä»æœç´¢ç´¢å¼•è¯»å–æ•°æ®
                const response = await fetch('/search-index.json');
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                const searchData = await response.json();
                console.log('ğŸ“Š æœç´¢ç´¢å¼•æ•°æ®:', searchData);

                if (searchData && Array.isArray(searchData)) {
                    // è§£æäº§å“æ•°æ®
                    projectData.products = searchData.filter(page =>
                        page.type === 'products' &&
                        page.title && page.title.trim() !== ''
                    ).map(page => ({
                        id: page.uri.replace('/products/', '').replace('/', ''),
                        title: page.title,
                        uri: page.uri,
                        content: page.content || '',
                        summary: page.summary || '',
                        model: extractModelFromTitle(page.title),
                        category: extractCategoryFromContent(page.content),
                        supplier: extractSupplierFromContent(page.content),
                        status: 'published',
                        date: page.date || new Date().toISOString().split('T')[0]
                    }));

                    // è§£æèµ„è®¯æ•°æ®
                    projectData.news = searchData.filter(page =>
                        page.type === 'news' &&
                        page.title && page.title.trim() !== ''
                    ).map(page => ({
                        id: page.uri.replace('/news/', '').replace('/', ''),
                        title: page.title,
                        uri: page.uri,
                        content: page.content || '',
                        summary: page.summary || '',
                        category: extractNewsCategoryFromContent(page.content),
                        author: 'ç¼–è¾‘éƒ¨',
                        status: 'published',
                        date: page.date || new Date().toISOString().split('T')[0],
                        views: Math.floor(Math.random() * 200) + 50
                    }));

                    // è§£ææ¡ˆä¾‹æ•°æ®
                    projectData.cases = searchData.filter(page =>
                        page.type === 'cases' &&
                        page.title && page.title.trim() !== ''
                    ).map(page => ({
                        id: page.uri.replace('/cases/', '').replace('/', ''),
                        title: page.title,
                        uri: page.uri,
                        content: page.content || '',
                        summary: page.summary || '',
                        category: extractCaseCategoryFromContent(page.content),
                        industry: extractIndustryFromContent(page.content),
                        status: 'published',
                        date: page.date || new Date().toISOString().split('T')[0]
                    }));

                    // è§£æåº”ç”¨é¢†åŸŸæ•°æ®
                    projectData.applications = searchData.filter(page =>
                        page.type === 'applications' &&
                        page.title && page.title.trim() !== ''
                    ).map(page => ({
                        id: page.uri.replace('/applications/', '').replace('/', ''),
                        title: page.title,
                        uri: page.uri,
                        content: page.content || '',
                        summary: page.summary || '',
                        category: 'åº”ç”¨é¢†åŸŸ',
                        status: 'published',
                        date: page.date || new Date().toISOString().split('T')[0]
                    }));
                } else {
                    console.log('æœç´¢ç´¢å¼•æ•°æ®ä¸å¯ç”¨ï¼Œåˆå§‹åŒ–ç©ºæ•°æ®');
                    projectData.products = [];
                    projectData.news = [];
                    projectData.cases = [];
                    projectData.applications = [];
                }

                // æå–ä¾›åº”å•†æ•°æ®
                const supplierSet = new Set();
                projectData.products.forEach(product => {
                    if (product.supplier) {
                        supplierSet.add(product.supplier);
                    }
                });

                projectData.suppliers = Array.from(supplierSet).map((name, index) => ({
                    id: `supplier-${index + 1}`,
                    name: name,
                    type: 'åˆ¶é€ å•†',
                    products: projectData.products.filter(p => p.supplier === name).length,
                    status: 'active',
                    date: new Date().toISOString().split('T')[0]
                }));

                // æå–åˆ†ç±»æ•°æ®
                const categorySet = new Set();
                projectData.products.forEach(product => {
                    if (product.category) {
                        categorySet.add(product.category);
                    }
                });

                projectData.categories = Array.from(categorySet).map((name, index) => ({
                    id: `category-${index + 1}`,
                    name: name,
                    products: projectData.products.filter(p => p.category === name).length,
                    status: 'active',
                    date: new Date().toISOString().split('T')[0]
                }));

                console.log('âœ… é¡¹ç›®æ•°æ®åŠ è½½å®Œæˆ:', {
                    products: projectData.products.length,
                    suppliers: projectData.suppliers.length,
                    news: projectData.news.length,
                    cases: projectData.cases.length,
                    applications: projectData.applications.length,
                    categories: projectData.categories.length
                });

                // æ›´æ–°ç•Œé¢
                updateDashboard();
                updateProductList();
                hideLoading();
                showSuccess('æ•°æ®åŠ è½½å®Œæˆï¼');

            } catch (error) {
                console.error('âŒ åŠ è½½é¡¹ç›®æ•°æ®å¤±è´¥:', error);
                hideLoading();
                showError('æ•°æ®åŠ è½½å¤±è´¥: ' + error.message);

                // è¿”å›ç©ºæ•°æ®
                projectData = {
                    products: [],
                    suppliers: [],
                    news: [],
                    cases: [],
                    applications: [],
                    categories: []
                };
            }
        }

        // æ•°æ®æå–è¾…åŠ©å‡½æ•°
        function extractModelFromTitle(title) {
            if (!title) return '';
            const match = title.match(/([A-Z]{1,3}-?[A-Z]?\d{4,5}[A-Z]?)/);
            return match ? match[1] : '';
        }

        function extractCategoryFromContent(content) {
            if (!content) return 'å…¶ä»–';
            if (content.includes('ç”µå­å†…çª¥é•œ') || content.includes('é«˜æ¸…') || content.includes('LED')) return 'ç”µå­å†…çª¥é•œ';
            if (content.includes('å…‰çº¤å†…çª¥é•œ') || content.includes('å…‰çº¤ä¼ è¾“')) return 'å…‰çº¤å†…çª¥é•œ';
            if (content.includes('ä¾¿æºå¼') || content.includes('è½»é‡åŒ–')) return 'ä¾¿æºå¼å†…çª¥é•œ';
            if (content.includes('ç®¡é“') || content.includes('é˜²æ°´é˜²å°˜')) return 'ç®¡é“å†…çª¥é•œ';
            if (content.includes('å·¥ä¸šçº§') || content.includes('ä¸“ä¸šè½¯ä»¶')) return 'å·¥ä¸šçº§ç³»ç»Ÿ';
            return 'å…¶ä»–';
        }

        function extractSupplierFromContent(content) {
            if (!content) return 'æœªçŸ¥ä¾›åº”å•†';
            if (content.includes('æ·±åœ³') || content.includes('å¾®è§†') || content.includes('å…‰ç”µ')) return 'æ·±åœ³å¸‚å¾®è§†å…‰ç”µç§‘æŠ€æœ‰é™å…¬å¸';
            if (content.includes('å¤©æ´¥') || content.includes('ç»´æ£®')) return 'å¤©æ´¥ç»´æ£®ç§‘æŠ€æœ‰é™å…¬å¸';
            if (content.includes('åŒ—äº¬') || content.includes('æ™ºåš')) return 'åŒ—äº¬æ™ºåšæ£€æµ‹è®¾å¤‡æœ‰é™å…¬å¸';
            return 'å…¶ä»–ä¾›åº”å•†';
        }

        function extractNewsCategoryFromContent(content) {
            if (!content) return 'å…¶ä»–';
            if (content.includes('æ±½è½¦') || content.includes('åˆ¶é€ ä¸š')) return 'è¡Œä¸šåŠ¨æ€';
            if (content.includes('å±•ä¼š') || content.includes('å±•è§ˆ')) return 'å±•ä¼šä¿¡æ¯';
            if (content.includes('äº§å“') || content.includes('å‘å¸ƒ')) return 'äº§å“å‘å¸ƒ';
            if (content.includes('æŠ€æœ¯') || content.includes('çªç ´')) return 'æŠ€æœ¯èµ„è®¯';
            return 'å…¶ä»–';
        }

        function extractCaseCategoryFromContent(content) {
            if (!content) return 'å…¶ä»–';
            if (content.includes('æ±½è½¦') || content.includes('å‘åŠ¨æœº')) return 'æ±½è½¦åˆ¶é€ ';
            if (content.includes('èˆªç©º') || content.includes('å¶ç‰‡')) return 'èˆªç©ºèˆªå¤©';
            if (content.includes('çŸ³æ²¹') || content.includes('ç®¡é“')) return 'çŸ³æ²¹åŒ–å·¥';
            return 'å…¶ä»–';
        }

        function extractIndustryFromContent(content) {
            if (!content) return 'å…¶ä»–è¡Œä¸š';
            if (content.includes('æ±½è½¦')) return 'æ±½è½¦å·¥ä¸š';
            if (content.includes('èˆªç©º')) return 'èˆªç©ºå·¥ä¸š';
            if (content.includes('çŸ³æ²¹')) return 'çŸ³æ²¹å·¥ä¸š';
            return 'å…¶ä»–è¡Œä¸š';
        }

        // æ›´æ–°ä»ªè¡¨æ¿
        function updateDashboard() {
            document.getElementById('productCount').textContent = projectData.products.length;
            document.getElementById('supplierCount').textContent = projectData.suppliers.length;
            document.getElementById('newsCount').textContent = projectData.news.length;
            document.getElementById('caseCount').textContent = projectData.cases.length;

            // æ›´æ–°æœ€è¿‘æ´»åŠ¨
            updateRecentActivities();
        }

        // æ›´æ–°æœ€è¿‘æ´»åŠ¨
        function updateRecentActivities() {
            const tbody = document.getElementById('recentActivities');
            const allItems = [
                ...projectData.products.map(item => ({...item, type: 'äº§å“'})),
                ...projectData.news.map(item => ({...item, type: 'èµ„è®¯'})),
                ...projectData.cases.map(item => ({...item, type: 'æ¡ˆä¾‹'})),
                ...projectData.applications.map(item => ({...item, type: 'åº”ç”¨'}))
            ];

            // æŒ‰æ—¥æœŸæ’åºï¼Œå–æœ€æ–°çš„10æ¡
            allItems.sort((a, b) => new Date(b.date) - new Date(a.date));
            const recentItems = allItems.slice(0, 10);

            if (recentItems.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" class="text-center text-muted">æš‚æ— æ•°æ®</td></tr>';
                return;
            }

            tbody.innerHTML = recentItems.map(item => `
                <tr>
                    <td>${item.date}</td>
                    <td><span class="badge bg-primary">${item.type}</span></td>
                    <td>${item.title}</td>
                    <td><span class="status-badge status-${item.status}">${item.status === 'published' ? 'å·²å‘å¸ƒ' : 'è‰ç¨¿'}</span></td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary btn-action" onclick="editItem('${item.type.toLowerCase()}', '${item.id}')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger btn-action" onclick="deleteItem('${item.type.toLowerCase()}', '${item.id}')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        // æ›´æ–°äº§å“åˆ—è¡¨
        function updateProductList() {
            const tbody = document.getElementById('productList');

            if (projectData.products.length === 0) {
                tbody.innerHTML = '<tr><td colspan="7" class="text-center text-muted">æš‚æ— äº§å“æ•°æ®</td></tr>';
                return;
            }

            tbody.innerHTML = projectData.products.map(product => `
                <tr>
                    <td>
                        <strong>${product.title}</strong>
                        <br><small class="text-muted">${product.summary}</small>
                    </td>
                    <td><code>${product.model}</code></td>
                    <td><span class="badge bg-info">${product.category}</span></td>
                    <td>${product.supplier}</td>
                    <td><span class="status-badge status-${product.status}">${product.status === 'published' ? 'å·²å‘å¸ƒ' : 'è‰ç¨¿'}</span></td>
                    <td>${product.date}</td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary btn-action" onclick="editProduct('${product.id}')" title="ç¼–è¾‘">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-success btn-action" onclick="viewProduct('${product.id}')" title="æŸ¥çœ‹">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger btn-action" onclick="deleteProduct('${product.id}')" title="åˆ é™¤">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        // é¡µé¢åˆ‡æ¢
        function showSection(sectionName) {
            // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // ç§»é™¤æ‰€æœ‰å¯¼èˆªé“¾æ¥çš„æ´»è·ƒçŠ¶æ€
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });

            // æ˜¾ç¤ºé€‰ä¸­çš„å†…å®¹åŒºåŸŸ
            const targetSection = document.getElementById(sectionName);
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // è®¾ç½®å¯¹åº”å¯¼èˆªé“¾æ¥ä¸ºæ´»è·ƒçŠ¶æ€
            event.target.classList.add('active');

            // æ›´æ–°é¡µé¢æ ‡é¢˜
            const titles = {
                'dashboard': 'ä»ªè¡¨æ¿',
                'products': 'äº§å“ç®¡ç†',
                'suppliers': 'ä¾›åº”å•†ç®¡ç†',
                'categories': 'äº§å“åˆ†ç±»',
                'news': 'èµ„è®¯ç®¡ç†',
                'cases': 'æ¡ˆä¾‹ç®¡ç†',
                'applications': 'åº”ç”¨é¢†åŸŸ',
                'media': 'åª’ä½“åº“',
                'settings': 'ç³»ç»Ÿè®¾ç½®'
            };

            document.getElementById('pageTitle').textContent = titles[sectionName] || 'å†…å®¹ç®¡ç†';

            // æ ¹æ®ä¸åŒé¡µé¢åŠ è½½ç›¸åº”æ•°æ®
            switch(sectionName) {
                case 'products':
                    updateProductList();
                    break;
                case 'suppliers':
                    updateSupplierList();
                    break;
                case 'categories':
                    updateCategoryList();
                    break;
                case 'news':
                    updateNewsList();
                    break;
                case 'cases':
                    updateCaseList();
                    break;
                case 'applications':
                    updateApplicationList();
                    break;
            }
        }

        // åˆ·æ–°æ•°æ®
        function refreshData() {
            showSuccess('æ­£åœ¨åˆ·æ–°æ•°æ®...');
            loadProjectData();
        }

        // äº§å“æœç´¢è¿‡æ»¤
        function filterProducts() {
            const searchTerm = document.getElementById('productSearch').value.toLowerCase();
            const rows = document.querySelectorAll('#productList tr');

            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }

        // äº§å“ç®¡ç†åŠŸèƒ½
        function addProduct() {
            showSuccess('æ·»åŠ äº§å“åŠŸèƒ½å¼€å‘ä¸­...');
        }

        function editProduct(id) {
            const product = projectData.products.find(p => p.id === id);
            if (product) {
                showSuccess(`ç¼–è¾‘äº§å“: ${product.title}`);
            }
        }

        function viewProduct(id) {
            const product = projectData.products.find(p => p.id === id);
            if (product) {
                window.open(product.uri, '_blank');
            }
        }

        function deleteProduct(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªäº§å“å—ï¼Ÿ')) {
                showSuccess('åˆ é™¤äº§å“åŠŸèƒ½å¼€å‘ä¸­...');
            }
        }

        // é€šç”¨ç¼–è¾‘å’Œåˆ é™¤åŠŸèƒ½
        function editItem(type, id) {
            showSuccess(`ç¼–è¾‘${type}: ${id}`);
        }

        function deleteItem(type, id) {
            if (confirm(`ç¡®å®šè¦åˆ é™¤è¿™ä¸ª${type}å—ï¼Ÿ`)) {
                showSuccess(`åˆ é™¤${type}åŠŸèƒ½å¼€å‘ä¸­...`);
            }
        }

        // æ˜¾ç¤ºæ·»åŠ æ¨¡æ€æ¡†
        function showAddModal() {
            showSuccess('æ·»åŠ å†…å®¹åŠŸèƒ½å¼€å‘ä¸­...');
        }

        // å ä½ç¬¦å‡½æ•° - å¾…å®ç°
        function updateSupplierList() {
            console.log('æ›´æ–°ä¾›åº”å•†åˆ—è¡¨');
        }

        function updateCategoryList() {
            console.log('æ›´æ–°åˆ†ç±»åˆ—è¡¨');
        }

        function updateNewsList() {
            console.log('æ›´æ–°èµ„è®¯åˆ—è¡¨');
        }

        function updateCaseList() {
            console.log('æ›´æ–°æ¡ˆä¾‹åˆ—è¡¨');
        }

        function updateApplicationList() {
            console.log('æ›´æ–°åº”ç”¨åˆ—è¡¨');
        }
    </script>
</body>
</html>
