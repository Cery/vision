<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VisNDT 内容管理系统</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Netlify Identity Widget -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <!-- Decap CMS -->
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
    <style>
      /* 强制 Decap CMS Markdown 编辑器的文本方向为从左到右 */
      .nc-markdown-editor-styles {
        direction: ltr !important;
        text-align: left !important;
      }
      .nc-markdown-editor-styles textarea {
        direction: ltr !important;
        text-align: left !important;
      }
      .nc-markdown-editor-styles [contenteditable="true"] {
        direction: ltr !important;
        text-align: left !important;
      }

      /* 管理系统选择页面样式 */
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        margin: 0;
        padding: 0;
      }

      .cms-selector {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .cms-container {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        padding: 40px;
        max-width: 900px;
        width: 100%;
      }

      .cms-header {
        text-align: center;
        margin-bottom: 40px;
      }

      .cms-header h1 {
        color: #333;
        margin-bottom: 10px;
        font-weight: 700;
      }

      .cms-header p {
        color: #666;
        font-size: 1.1rem;
      }

      .cms-option {
        background: #f8f9fa;
        border: 2px solid #e9ecef;
        border-radius: 15px;
        padding: 30px;
        text-align: center;
        transition: all 0.3s ease;
        height: 100%;
        cursor: pointer;
        text-decoration: none;
        color: inherit;
        display: block;
      }

      .cms-option:hover {
        border-color: #007bff;
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0,123,255,0.1);
        color: inherit;
        text-decoration: none;
      }

      .cms-option.recommended {
        border-color: #28a745;
        background: linear-gradient(135deg, #f8fff9 0%, #e8f5e8 100%);
      }

      .cms-option.recommended:hover {
        border-color: #28a745;
        box-shadow: 0 10px 25px rgba(40,167,69,0.2);
      }

      .cms-icon {
        font-size: 3rem;
        margin-bottom: 20px;
        color: #007bff;
      }

      .cms-option.recommended .cms-icon {
        color: #28a745;
      }

      .cms-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 15px;
        color: #333;
      }

      .cms-description {
        color: #666;
        margin-bottom: 20px;
        line-height: 1.6;
      }

      .cms-features {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .cms-features li {
        color: #555;
        margin-bottom: 8px;
        font-size: 0.9rem;
      }

      .cms-features li i {
        color: #28a745;
        margin-right: 8px;
      }

      .recommended-badge {
        background: #28a745;
        color: white;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        position: absolute;
        top: -10px;
        right: 20px;
      }

      .cms-option {
        position: relative;
      }

      /* CMS 界面样式 */
      .nc-app-header {
        background-color: #1e88e5 !important;
      }
      .nc-app-header-content {
        background-color: #1e88e5 !important;
      }
      .nc-collectionPage-topHeading {
        background-color: #f5f5f5 !important;
      }
      .nc-entryEditor-header {
        background-color: #f5f5f5 !important;
      }

      #debug-info {
        background-color: #f0f0f0;
        border: 1px solid #ccc;
        padding: 10px;
        margin-top: 20px;
        white-space: pre-wrap;
        display: none;
      }

      .cms-selector-active {
        display: block;
      }

      .cms-selector-hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <!-- 内容管理系统选择界面 -->
    <div id="cms-selector" class="cms-selector cms-selector-active">
      <div class="cms-container">
        <div class="cms-header">
          <h1><i class="fas fa-cog me-3"></i>VisNDT 内容管理系统</h1>
          <p>统一的内容管理平台，匹配前台网站展示规则</p>
        </div>

        <!-- GitHub版本控制管理 -->
        <div class="row g-4 mb-4">
          <div class="col-md-6">
            <a href="github-cms.html" class="cms-option recommended">
              <span class="recommended-badge">推荐</span>
              <div class="cms-icon">
                <i class="fab fa-github"></i>
              </div>
              <h3 class="cms-title">GitHub 版本控制管理</h3>
              <p class="cms-description">基于GitHub的专业内容管理，支持版本控制、多人协作和自动部署</p>
              <ul class="cms-features">
                <li><i class="fas fa-check"></i>完整的版本控制和历史记录</li>
                <li><i class="fas fa-check"></i>支持多人协作和权限管理</li>
                <li><i class="fas fa-check"></i>自动部署和实时同步</li>
                <li><i class="fas fa-check"></i>移动端友好的编辑界面</li>
              </ul>
            </a>
          </div>

          <div class="col-md-6">
            <a href="github-advanced.html" class="cms-option">
              <div class="cms-icon">
                <i class="fas fa-rocket"></i>
              </div>
              <h3 class="cms-title">GitHub 高级管理</h3>
              <p class="cms-description">完整的GitHub内容管理功能，包含模板和操作指南</p>
              <ul class="cms-features">
                <li><i class="fas fa-check"></i>完整增删改查功能</li>
                <li><i class="fas fa-check"></i>内容模板和向导</li>
                <li><i class="fas fa-check"></i>详细操作指南</li>
                <li><i class="fas fa-check"></i>系统配置管理</li>
              </ul>
            </a>
          </div>
        </div>

        <!-- 本地CMS管理模块 -->
        <h4 class="text-center mb-4 text-muted">本地内容管理系统</h4>
        <div class="row g-4">

          <!-- 内容管理中心 -->
          <div class="col-md-6">
            <a href="content-manager.html" class="cms-option">
              <div class="cms-icon">
                <i class="fas fa-newspaper"></i>
              </div>
              <h3 class="cms-title">内容管理中心</h3>
              <p class="cms-description">统一管理资讯、产品、案例，支持列表展示、发布流程和批量操作</p>
              <ul class="cms-features">
                <li><i class="fas fa-check"></i>资讯管理：分类、标签、发布状态</li>
                <li><i class="fas fa-check"></i>产品管理：系列、参数、供应商</li>
                <li><i class="fas fa-check"></i>案例管理：行业、应用、效果展示</li>
                <li><i class="fas fa-check"></i>批量操作和搜索过滤</li>
              </ul>
            </a>
          </div>

          <!-- 首页内容管理 -->
          <div class="col-md-6">
            <a href="content-manager.html?section=homepage" class="cms-option">
              <div class="cms-icon">
                <i class="fas fa-home"></i>
              </div>
              <h3 class="cms-title">首页内容管理</h3>
              <p class="cms-description">管理首页轮播图、推荐产品、公司介绍等核心展示内容</p>
              <ul class="cms-features">
                <li><i class="fas fa-check"></i>轮播图管理：图片、链接、排序</li>
                <li><i class="fas fa-check"></i>推荐产品：选择、排序、展示</li>
                <li><i class="fas fa-check"></i>公司信息：简介、价值观、联系方式</li>
                <li><i class="fas fa-check"></i>SEO设置：标题、描述、关键词</li>
              </ul>
            </a>
          </div>
        </div>

        <div class="row mt-4">
          <!-- 页面内容管理 -->
          <div class="col-md-6">
            <a href="page-manager.html" class="cms-option">
              <div class="cms-icon">
                <i class="fas fa-file-alt"></i>
              </div>
              <h3 class="cms-title">页面内容管理</h3>
              <p class="cms-description">管理商务服务、应用领域、关于我们等静态页面内容</p>
              <ul class="cms-features">
                <li><i class="fas fa-check"></i>商务服务：套餐、价格、服务介绍</li>
                <li><i class="fas fa-check"></i>应用领域：行业分类、技术介绍</li>
                <li><i class="fas fa-check"></i>关于我们：公司历程、团队介绍</li>
                <li><i class="fas fa-check"></i>联系我们：地址、电话、营业时间</li>
              </ul>
            </a>
          </div>

          <!-- 媒体资源管理 -->
          <div class="col-md-6">
            <a href="media-library.html" class="cms-option">
              <div class="cms-icon">
                <i class="fas fa-images"></i>
              </div>
              <h3 class="cms-title">媒体资源管理</h3>
              <p class="cms-description">统一管理图片、文档等媒体资源，支持分类和批量操作</p>
              <ul class="cms-features">
                <li><i class="fas fa-check"></i>图片管理：上传、分类、压缩优化</li>
                <li><i class="fas fa-check"></i>文档管理：PDF、Word等文件管理</li>
                <li><i class="fas fa-check"></i>批量操作：上传、删除、移动</li>
                <li><i class="fas fa-check"></i>智能搜索：按名称、类型、日期</li>
              </ul>
            </a>
          </div>
        </div>

        <!-- 工具和帮助 -->
        <h4 class="text-center mb-4 mt-5 text-muted">工具和帮助</h4>
        <div class="row">
          <!-- 帮助文档 -->
          <div class="col-md-4">
            <a href="README.md" target="_blank" class="cms-option">
              <div class="cms-icon">
                <i class="fas fa-book"></i>
              </div>
              <h3 class="cms-title">帮助文档</h3>
              <p class="cms-description">详细的使用指南和操作说明</p>
              <ul class="cms-features">
                <li><i class="fas fa-check"></i>使用指南</li>
                <li><i class="fas fa-check"></i>操作说明</li>
                <li><i class="fas fa-check"></i>常见问题</li>
                <li><i class="fas fa-check"></i>功能介绍</li>
              </ul>
            </a>
          </div>

          <!-- 高级编辑器 -->
          <div class="col-md-4">
            <a href="local-cms.html" class="cms-option">
              <div class="cms-icon">
                <i class="fas fa-edit"></i>
              </div>
              <h3 class="cms-title">高级编辑器</h3>
              <p class="cms-description">功能完整的可视化编辑器，支持实时预览</p>
              <ul class="cms-features">
                <li><i class="fas fa-check"></i>可视化编辑器</li>
                <li><i class="fas fa-check"></i>实时预览</li>
                <li><i class="fas fa-check"></i>语法高亮</li>
                <li><i class="fas fa-check"></i>媒体库集成</li>
              </ul>
            </a>
          </div>

          <!-- 返回网站 -->
          <div class="col-md-4">
            <a href="../" class="cms-option">
              <div class="cms-icon">
                <i class="fas fa-external-link-alt"></i>
              </div>
              <h3 class="cms-title">返回网站</h3>
              <p class="cms-description">返回到网站首页查看内容效果</p>
              <ul class="cms-features">
                <li><i class="fas fa-check"></i>查看网站</li>
                <li><i class="fas fa-check"></i>测试功能</li>
                <li><i class="fas fa-check"></i>用户体验</li>
                <li><i class="fas fa-check"></i>效果预览</li>
              </ul>
            </a>
          </div>
        </div>

        <div class="text-center mt-4">
          <div class="mb-3">
            <a href="quick-start.html" class="btn btn-success btn-lg me-2">
              <i class="fas fa-rocket me-2"></i>快速入门指南
            </a>
            <a href="comparison.html" class="btn btn-warning btn-lg me-2">
              <i class="fas fa-balance-scale me-2"></i>功能对比
            </a>
            <a href="https://github.com/Cery/VisNDT" target="_blank" class="btn btn-outline-primary btn-lg me-2">
              <i class="fab fa-github me-2"></i>访问GitHub仓库
            </a>
            <button onclick="logout()" class="btn btn-outline-danger btn-lg">
              <i class="fas fa-sign-out-alt me-2"></i>退出登录
            </button>
          </div>
          <p class="text-muted">
            <i class="fas fa-info-circle me-2"></i>
            推荐使用 GitHub 管理，简单可靠且支持版本控制。不确定选择哪个？查看功能对比。
          </p>
        </div>
      </div>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>

      // 检查登录状态
      function checkAuth() {
        // 检查会话存储
        const sessionData = sessionStorage.getItem('visndt_admin_session');
        if (sessionData) {
          const session = JSON.parse(sessionData);
          // 会话有效期为8小时
          if (Date.now() - session.loginTime < 8 * 60 * 60 * 1000) {
            return true;
          }
        }

        // 检查记住我
        const rememberData = localStorage.getItem('visndt_admin_remember');
        if (rememberData) {
          const remember = JSON.parse(rememberData);
          // 记住我有效期为30天
          if (Date.now() - remember.loginTime < 30 * 24 * 60 * 60 * 1000) {
            // 重新设置会话
            const sessionData = {
              username: remember.username,
              loginTime: Date.now(),
              remember: true
            };
            sessionStorage.setItem('visndt_admin_session', JSON.stringify(sessionData));
            return true;
          }
        }

        return false;
      }

      // 登出功能
      function logout() {
        if (confirm('确定要退出登录吗？')) {
          sessionStorage.removeItem('visndt_admin_session');
          localStorage.removeItem('visndt_admin_remember');
          window.location.href = 'login.html';
        }
      }

      function showComingSoon() {
        alert('该功能正在开发中，敬请期待！');
      }

      document.addEventListener('DOMContentLoaded', () => {
        // 检查登录状态
        if (!checkAuth()) {
          window.location.href = 'login.html';
          return;
        }

        console.log('VisNDT 内容管理系统已加载');
      });
    </script>
  </body>
</html>