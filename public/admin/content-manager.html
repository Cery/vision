<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VisNDT 内容管理中心</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #007bff;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --info-color: #17a2b8;
            --dark-color: #343a40;
            --light-color: #f8f9fa;
            --sidebar-width: 280px;
            --header-height: 70px;
        }

        body {
            background: #f5f6fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }

        /* 顶部导航 */
        .top-navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            height: var(--header-height);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .navbar-brand {
            font-size: 1.5rem;
            font-weight: 600;
            color: white;
            text-decoration: none;
            margin-right: 30px;
        }

        .navbar-nav {
            display: flex;
            gap: 20px;
            margin-left: auto;
        }

        .navbar-btn {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 6px;
            text-decoration: none;
            transition: all 0.2s ease;
            font-size: 0.9rem;
        }

        .navbar-btn:hover {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        /* 侧边栏 */
        .sidebar {
            position: fixed;
            top: var(--header-height);
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - var(--header-height));
            background: white;
            border-right: 1px solid #e9ecef;
            overflow-y: auto;
            z-index: 999;
        }

        .sidebar-section {
            border-bottom: 1px solid #f0f0f0;
        }

        .section-header {
            background: #f8f9fa;
            padding: 15px 20px;
            font-weight: 600;
            color: var(--dark-color);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease;
        }

        .section-header:hover {
            background: #e9ecef;
        }

        .section-header.collapsed {
            background: #f8f9fa;
        }

        .section-content {
            padding: 0;
            max-height: 300px;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .section-content.collapsed {
            max-height: 0;
        }

        .sidebar-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 1px solid #f8f9fa;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar-item:hover {
            background: #f8f9fa;
        }

        .sidebar-item.active {
            background: rgba(0,123,255,0.1);
            border-left: 3px solid var(--primary-color);
            color: var(--primary-color);
        }

        .sidebar-icon {
            width: 20px;
            text-align: center;
        }

        /* 主内容区 */
        .main-content {
            margin-left: var(--sidebar-width);
            margin-top: var(--header-height);
            padding: 30px;
            min-height: calc(100vh - var(--header-height));
        }

        .content-header {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .content-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 8px;
        }

        .content-subtitle {
            color: #6c757d;
            margin-bottom: 20px;
        }

        .content-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .content-body {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        /* 内容列表 */
        .content-list {
            margin-top: 20px;
        }

        .list-toolbar {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .toolbar-left {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .toolbar-right {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .search-box {
            position: relative;
            width: 250px;
        }

        .search-input {
            width: 100%;
            padding: 8px 35px 8px 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .search-icon {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
        }

        .content-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .content-table th,
        .content-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        .content-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: var(--dark-color);
        }

        .content-table tbody tr:hover {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-published {
            background: #d4edda;
            color: #155724;
        }

        .status-draft {
            background: #fff3cd;
            color: #856404;
        }

        .status-archived {
            background: #f8d7da;
            color: #721c24;
        }

        .action-buttons {
            display: flex;
            gap: 5px;
        }

        .action-btn {
            background: none;
            border: none;
            color: #6c757d;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9rem;
        }

        .action-btn:hover {
            background: rgba(0,0,0,0.1);
        }

        .action-btn.edit:hover {
            color: var(--primary-color);
        }

        .action-btn.delete:hover {
            color: var(--danger-color);
        }

        .action-btn.view:hover {
            color: var(--success-color);
        }

        /* 首页内容管理 */
        .homepage-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .homepage-item {
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .homepage-item:hover {
            border-color: var(--primary-color);
            box-shadow: 0 2px 8px rgba(0,123,255,0.1);
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .item-title {
            font-weight: 600;
            color: var(--dark-color);
        }

        .item-actions {
            display: flex;
            gap: 5px;
        }

        .item-description {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .item-meta {
            display: flex;
            gap: 15px;
            font-size: 0.8rem;
            color: #adb5bd;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.show {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                padding: 20px 15px;
            }

            .content-header {
                padding: 20px;
            }

            .content-body {
                padding: 20px;
            }

            .search-box {
                width: 200px;
            }

            .content-table {
                font-size: 0.9rem;
            }

            .content-table th,
            .content-table td {
                padding: 8px;
            }
        }

        /* 加载动画 */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
            color: #6c757d;
        }

        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 空状态 */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #6c757d;
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .empty-description {
            margin-bottom: 20px;
        }

        /* 添加产品弹窗样式 */
        .image-upload-area {
            border: 2px dashed #dee2e6;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            background: #f8f9fa;
        }

        .image-upload-area:hover {
            border-color: var(--primary-color);
            background: rgba(0,123,255,0.05);
        }

        .upload-placeholder {
            color: #6c757d;
        }

        .gallery-item {
            position: relative;
        }

        .parameter-row {
            align-items: center;
        }

        .modal-xl {
            max-width: 1200px;
        }

        /* 表单验证样式 */
        .form-control:invalid {
            border-color: #dc3545;
        }

        .form-control:valid {
            border-color: #28a745;
        }
    </style>
</head>
<body>
    <!-- 顶部导航 -->
    <nav class="top-navbar">
        <a href="#" class="navbar-brand">
            <i class="fas fa-cogs me-2"></i>VisNDT 内容管理中心
        </a>
        <div class="navbar-nav">
            <button class="navbar-btn" onclick="showGitHubConfig()" style="background: #6f42c1; border: none; margin-right: 10px;">
                <i class="fab fa-github me-1"></i>GitHub配置
            </button>
            <button class="navbar-btn" onclick="testAlert()" style="background: #28a745; border: none; margin-right: 10px;">
                <i class="fas fa-bug me-1"></i>测试JS
            </button>
            <a href="media-library.html" class="navbar-btn">
                <i class="fas fa-images me-1"></i>媒体库
            </a>
            <a href="content-wizard.html" class="navbar-btn">
                <i class="fas fa-magic me-1"></i>创建向导
            </a>
            <a href="local-cms.html" class="navbar-btn">
                <i class="fas fa-edit me-1"></i>编辑器
            </a>
            <a href="../" class="navbar-btn">
                <i class="fas fa-home me-1"></i>返回网站
            </a>
        </div>
    </nav>

    <!-- 侧边栏 -->
    <div class="sidebar" id="sidebar">
        <!-- 首页管理 -->
        <div class="sidebar-section">
            <div class="section-header" onclick="toggleSection('homepage')">
                <span><i class="fas fa-home me-2"></i>首页管理</span>
                <i class="fas fa-chevron-down" id="homepage-icon"></i>
            </div>
            <div class="section-content" id="homepage-content">
                <div class="sidebar-item" onclick="showHomepageManager()">
                    <i class="fas fa-edit sidebar-icon"></i>
                    <span>首页内容</span>
                </div>
                <div class="sidebar-item" onclick="showBannerManager()">
                    <i class="fas fa-image sidebar-icon"></i>
                    <span>轮播图管理</span>
                </div>
                <div class="sidebar-item" onclick="showFeaturedProducts()">
                    <i class="fas fa-star sidebar-icon"></i>
                    <span>推荐产品</span>
                </div>
                <div class="sidebar-item" onclick="showCompanyInfo()">
                    <i class="fas fa-building sidebar-icon"></i>
                    <span>公司信息</span>
                </div>
            </div>
        </div>

        <!-- 产品中心 -->
        <div class="sidebar-section">
            <div class="section-header" onclick="toggleSection('products')">
                <span><i class="fas fa-box me-2"></i>产品中心</span>
                <i class="fas fa-chevron-down" id="products-icon"></i>
            </div>
            <div class="section-content" id="products-content">
                <div class="sidebar-item" onclick="showProductsList()">
                    <i class="fas fa-list sidebar-icon"></i>
                    <span>产品列表</span>
                </div>
                <div class="sidebar-item" onclick="createProduct()">
                    <i class="fas fa-plus sidebar-icon"></i>
                    <span>添加产品</span>
                </div>
                <div class="sidebar-item" onclick="showProductCategories()">
                    <i class="fas fa-layer-group sidebar-icon"></i>
                    <span>产品分类</span>
                </div>
                <div class="sidebar-item" onclick="showProductTypes()">
                    <i class="fas fa-tags sidebar-icon"></i>
                    <span>产品类型</span>
                </div>
                <div class="sidebar-item" onclick="showProductSeries()">
                    <i class="fas fa-sitemap sidebar-icon"></i>
                    <span>产品系列</span>
                </div>
                <div class="sidebar-item" onclick="showSuppliers()">
                    <i class="fas fa-truck sidebar-icon"></i>
                    <span>供应商管理</span>
                </div>
            </div>
        </div>

        <!-- 应用领域 -->
        <div class="sidebar-section">
            <div class="section-header collapsed" onclick="toggleSection('applications')">
                <span><i class="fas fa-cogs me-2"></i>应用领域</span>
                <i class="fas fa-chevron-right" id="applications-icon"></i>
            </div>
            <div class="section-content collapsed" id="applications-content">
                <div class="sidebar-item" onclick="showApplicationsList()">
                    <i class="fas fa-list sidebar-icon"></i>
                    <span>应用领域列表</span>
                </div>
                <div class="sidebar-item" onclick="createApplication()">
                    <i class="fas fa-plus sidebar-icon"></i>
                    <span>添加应用领域</span>
                </div>
                <div class="sidebar-item" onclick="editApplicationsPage()">
                    <i class="fas fa-edit sidebar-icon"></i>
                    <span>应用领域页面</span>
                </div>
            </div>
        </div>

        <!-- 应用案例 -->
        <div class="sidebar-section">
            <div class="section-header" onclick="toggleSection('cases')">
                <span><i class="fas fa-clipboard-list me-2"></i>应用案例</span>
                <i class="fas fa-chevron-down" id="cases-icon"></i>
            </div>
            <div class="section-content" id="cases-content">
                <div class="sidebar-item" onclick="showCasesList()">
                    <i class="fas fa-list sidebar-icon"></i>
                    <span>案例列表</span>
                </div>
                <div class="sidebar-item" onclick="createCase()">
                    <i class="fas fa-plus sidebar-icon"></i>
                    <span>添加案例</span>
                </div>
                <div class="sidebar-item" onclick="showCaseIndustries()">
                    <i class="fas fa-industry sidebar-icon"></i>
                    <span>行业分类</span>
                </div>
                <div class="sidebar-item" onclick="showCaseApplications()">
                    <i class="fas fa-cogs sidebar-icon"></i>
                    <span>应用场景</span>
                </div>
            </div>
        </div>

        <!-- 资讯中心 -->
        <div class="sidebar-section">
            <div class="section-header collapsed" onclick="toggleSection('news')">
                <span><i class="fas fa-newspaper me-2"></i>资讯中心</span>
                <i class="fas fa-chevron-right" id="news-icon"></i>
            </div>
            <div class="section-content collapsed" id="news-content">
                <div class="sidebar-item" onclick="showNewsList()">
                    <i class="fas fa-list sidebar-icon"></i>
                    <span>资讯列表</span>
                </div>
                <div class="sidebar-item" onclick="createNews()">
                    <i class="fas fa-plus sidebar-icon"></i>
                    <span>发布资讯</span>
                </div>
                <div class="sidebar-item" onclick="showNewsCategories()">
                    <i class="fas fa-tags sidebar-icon"></i>
                    <span>资讯分类</span>
                </div>
                <div class="sidebar-item" onclick="showNewsDrafts()">
                    <i class="fas fa-file-alt sidebar-icon"></i>
                    <span>草稿箱</span>
                </div>
            </div>
        </div>

        <!-- 定制中心 -->
        <div class="sidebar-section">
            <div class="section-header collapsed" onclick="toggleSection('customs')">
                <span><i class="fas fa-tools me-2"></i>定制中心</span>
                <i class="fas fa-chevron-right" id="customs-icon"></i>
            </div>
            <div class="section-content collapsed" id="customs-content">
                <div class="sidebar-item" onclick="showCustomsList()">
                    <i class="fas fa-list sidebar-icon"></i>
                    <span>定制需求</span>
                </div>
                <div class="sidebar-item" onclick="showCustomsCategories()">
                    <i class="fas fa-th-large sidebar-icon"></i>
                    <span>定制分类</span>
                </div>
                <div class="sidebar-item" onclick="editCustomsPage()">
                    <i class="fas fa-edit sidebar-icon"></i>
                    <span>定制中心页面</span>
                </div>
            </div>
        </div>

        <!-- 商务服务 -->
        <div class="sidebar-section">
            <div class="section-header collapsed" onclick="toggleSection('cooperation')">
                <span><i class="fas fa-handshake me-2"></i>商务服务</span>
                <i class="fas fa-chevron-right" id="cooperation-icon"></i>
            </div>
            <div class="section-content collapsed" id="cooperation-content">
                <div class="sidebar-item" onclick="showCooperationRequests()">
                    <i class="fas fa-list sidebar-icon"></i>
                    <span>合作申请</span>
                </div>
                <div class="sidebar-item" onclick="showPartnersList()">
                    <i class="fas fa-users sidebar-icon"></i>
                    <span>合作伙伴</span>
                </div>
                <div class="sidebar-item" onclick="editBusinessPage()">
                    <i class="fas fa-edit sidebar-icon"></i>
                    <span>商务服务页面</span>
                </div>
            </div>
        </div>

        <!-- 系统设置 -->
        <div class="sidebar-section">
            <div class="section-header collapsed" onclick="toggleSection('settings')">
                <span><i class="fas fa-cog me-2"></i>系统设置</span>
                <i class="fas fa-chevron-right" id="settings-icon"></i>
            </div>
            <div class="section-content collapsed" id="settings-content">
                <div class="sidebar-item" onclick="showSiteSettings()">
                    <i class="fas fa-globe sidebar-icon"></i>
                    <span>网站设置</span>
                </div>
                <div class="sidebar-item" onclick="showMenuSettings()">
                    <i class="fas fa-bars sidebar-icon"></i>
                    <span>菜单管理</span>
                </div>
                <div class="sidebar-item" onclick="showSEOSettings()">
                    <i class="fas fa-search sidebar-icon"></i>
                    <span>SEO设置</span>
                </div>
                <div class="sidebar-item" onclick="showBackupRestore()">
                    <i class="fas fa-database sidebar-icon"></i>
                    <span>备份恢复</span>
                </div>
            </div>
        </div>
    </div>

    <!-- 主内容区 -->
    <div class="main-content">
        <!-- 内容头部 -->
        <div class="content-header">
            <div class="content-title" id="contentTitle">欢迎使用内容管理中心</div>
            <div class="content-subtitle" id="contentSubtitle">选择左侧菜单开始管理您的网站内容</div>
            <div class="content-actions" id="contentActions">
                <!-- 动态生成的操作按钮 -->
            </div>
        </div>

        <!-- 内容主体 -->
        <div class="content-body" id="contentBody">
            <!-- 欢迎页面 -->
            <div id="welcomePage">
                <div class="row">
                    <div class="col-md-4">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-newspaper text-success"></i>
                                最新资讯
                            </div>
                            <div class="text-center">
                                <div class="empty-icon">
                                    <i class="fas fa-newspaper"></i>
                                </div>
                                <div class="empty-title">管理资讯内容</div>
                                <div class="empty-description">发布行业动态、技术资讯等</div>
                                <button class="btn btn-success" onclick="showNewsList()">
                                    <i class="fas fa-list me-2"></i>查看资讯列表
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-box text-primary"></i>
                                产品管理
                            </div>
                            <div class="text-center">
                                <div class="empty-icon">
                                    <i class="fas fa-box"></i>
                                </div>
                                <div class="empty-title">管理产品信息</div>
                                <div class="empty-description">添加产品详情、技术参数等</div>
                                <button class="btn btn-primary" onclick="showProductsList()">
                                    <i class="fas fa-list me-2"></i>查看产品列表
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-star text-warning"></i>
                                应用案例
                            </div>
                            <div class="text-center">
                                <div class="empty-icon">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div class="empty-title">管理成功案例</div>
                                <div class="empty-description">展示项目经验和实施效果</div>
                                <button class="btn btn-warning" onclick="showCasesList()">
                                    <i class="fas fa-list me-2"></i>查看案例列表
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="homepage-section mt-4">
                    <div class="section-title">
                        <i class="fas fa-chart-line text-info"></i>
                        快速统计
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="text-center p-3">
                                <h3 class="text-success" id="newsCount">0</h3>
                                <p class="text-muted">资讯文章</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center p-3">
                                <h3 class="text-primary" id="productsCount">0</h3>
                                <p class="text-muted">产品数量</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center p-3">
                                <h3 class="text-warning" id="casesCount">0</h3>
                                <p class="text-muted">成功案例</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center p-3">
                                <h3 class="text-info" id="imagesCount">0</h3>
                                <p class="text-muted">媒体文件</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 动态内容区域 -->
            <div id="dynamicContent" style="display: none;">
                <!-- 内容将通过JavaScript动态加载 -->
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- 内联关键JavaScript代码以确保加载 -->
    <script>
        // 内联ContentDataLoader类以确保可用性
        class ContentDataLoader {
            constructor() {
                this.baseUrl = window.location.origin;
                this.contentData = {
                    products: [],
                    categories: [],
                    suppliers: [],
                    news: [],
                    cases: [],
                    applications: [],
                    featured_products: []
                };
            }

            async loadAllData() {
                try {
                    console.log('开始加载所有内容数据...');
                    await Promise.all([
                        this.loadProducts(),
                        this.loadNews(),
                        this.loadCases(),
                        this.loadApplications(),
                        this.loadFeaturedProducts()
                    ]);
                    console.log('所有数据加载完成:', this.contentData);
                    return this.contentData;
                } catch (error) {
                    console.error('加载数据失败:', error);
                    return this.getFallbackData();
                }
            }

            // 加载资讯数据
            async loadNews() {
                try {
                    this.contentData.news = this.getDefaultNews();
                    console.log(`资讯数据加载完成: ${this.contentData.news.length} 条资讯`);
                } catch (error) {
                    console.error('加载资讯数据失败:', error);
                    this.contentData.news = [];
                }
            }

            // 加载案例数据
            async loadCases() {
                try {
                    this.contentData.cases = this.getDefaultCases();
                    console.log(`案例数据加载完成: ${this.contentData.cases.length} 个案例`);
                } catch (error) {
                    console.error('加载案例数据失败:', error);
                    this.contentData.cases = [];
                }
            }

            // 加载应用领域数据
            async loadApplications() {
                try {
                    this.contentData.applications = this.getDefaultApplications();
                    console.log(`应用领域数据加载完成: ${this.contentData.applications.length} 个领域`);
                } catch (error) {
                    console.error('加载应用领域数据失败:', error);
                    this.contentData.applications = [];
                }
            }

            // 加载新品推荐数据
            async loadFeaturedProducts() {
                try {
                    this.contentData.featured_products = this.getDefaultFeaturedProducts();
                    console.log(`新品推荐数据加载完成: ${this.contentData.featured_products.length} 个推荐产品`);
                } catch (error) {
                    console.error('加载新品推荐数据失败:', error);
                    this.contentData.featured_products = [];
                }
            }

            async loadProducts() {
                try {
                    // 首先尝试加载完整的33个产品
                    this.contentData.products = await this.loadAllProductFiles();
                    console.log(`产品数据加载完成: ${this.contentData.products.length} 个产品`);
                } catch (error) {
                    console.error('加载完整产品列表失败，使用默认产品:', error);
                    this.contentData.products = this.getDefaultProducts();
                }
            }

            // 动态加载所有产品文件
            async loadAllProductFiles() {
                const products = [];

                // 已知的产品文件列表（基于实际目录扫描）
                const productFiles = [
                    'WS-K08510-a', 'WS-K08510-b', 'WS-K09510-a', 'WS-K1010-a',
                    'WS-K1210-a', 'WS-K1210-a copy', 'WS-K1210-a copy 6', 'WS-K1210-a copy 7',
                    'WS-K1210-a copy 8', 'WS-K1210-a copy 9', 'WS-K1210-b',
                    'WS-K1510-a', 'WS-K1510-b', 'WS-K1510-c', 'WS-K1810-a',
                    'k1010-electronic-endoscope', 'product-dz60', 'product-p08510',
                    'product-p09510', 'product-p1010-model', 'product-p1210',
                    'product-p1510', 'product-p1810', 'product-p2010', 'product-p2210',
                    'product-p2410', 'product-p2810', 'product-p3910', 'product-p6010',
                    'product-p8020', 'sample-product-2', 'sample-product-3', 'test-product-001'
                ];

                console.log(`开始生成 ${productFiles.length} 个产品数据...`);

                for (const productId of productFiles) {
                    try {
                        // 生成基础产品数据
                        const basicProduct = this.generateBasicProductData(productId);
                        products.push(basicProduct);
                    } catch (error) {
                        console.warn(`生成产品 ${productId} 失败:`, error);
                    }
                }

                console.log(`产品生成完成: ${products.length} 个产品`);
                return products;
            }

            // 生成基础产品数据
            generateBasicProductData(productId) {
                const title = this.generateProductTitle(productId);
                const model = this.extractModel(title, productId);
                const series = this.extractSeries(title, productId);

                return {
                    id: productId,
                    title: title,
                    summary: `${model} 工业内窥镜，专业检测设备`,
                    model: model,
                    series: series,
                    supplier: '深圳市微视光电科技有限公司',
                    primary_category: '电子内窥镜',
                    secondary_category: this.getSecondaryCategory(productId),
                    status: 'published',
                    statusName: '已发布',
                    published: new Date().toISOString(),
                    thumbnail: this.getProductThumbnail(series),
                    featured: Math.random() > 0.8, // 20% 概率为推荐产品
                    price: '询价',
                    stock: '有库存'
                };
            }

            getDefaultProducts() {
                return [
                    {
                        id: 'WS-K08510-a',
                        title: 'WS-K08510超细工业电子内窥镜',
                        summary: '0.85mm超小直径，高清成像，适用于极小空间检测',
                        model: 'WS-K08510',
                        series: 'K系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2025-01-01T12:00:00+08:00',
                        thumbnail: '/images/products/K-series/K-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存'
                    },
                    {
                        id: 'WS-K08510-b',
                        title: 'WS-K08510B超细工业电子内窥镜',
                        summary: '0.85mm超小直径，升级版高清成像',
                        model: 'WS-K08510B',
                        series: 'K系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2025-01-02T12:00:00+08:00',
                        thumbnail: '/images/products/K-series/K-main.jpg',
                        featured: false,
                        price: '询价',
                        stock: '有库存'
                    },
                    {
                        id: 'product-p1210',
                        title: 'P1210工业内窥镜',
                        summary: 'P系列标准型工业内窥镜，功能全面',
                        model: 'P1210',
                        series: 'P系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2025-01-03T12:00:00+08:00',
                        thumbnail: '/images/products/P-series/P-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存'
                    },
                    {
                        id: 'product-dz60',
                        title: 'DZ60爬行机器人',
                        summary: '管道爬行检测机器人，远程操控',
                        model: 'DZ60',
                        series: 'DZ系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '爬行机器人',
                        status: 'published',
                        statusName: '已发布',
                        published: '2025-01-04T12:00:00+08:00',
                        thumbnail: '/images/products/DZ-series/DZ-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存'
                    }
                ];
            }

            // 生成产品标题
            generateProductTitle(productId) {
                if (productId.startsWith('WS-K')) {
                    const model = this.extractModel('', productId);
                    return `${model}超细工业电子内窥镜`;
                } else if (productId.startsWith('product-p')) {
                    const model = this.extractModel('', productId);
                    return `${model}工业内窥镜`;
                } else if (productId.includes('dz')) {
                    return 'DZ60爬行机器人';
                } else if (productId.includes('sample')) {
                    return `样品产品 ${productId.replace('sample-product-', '')}`;
                } else if (productId.includes('test')) {
                    return `测试产品 ${productId.replace('test-product-', '')}`;
                } else {
                    const model = this.extractModel('', productId);
                    return `${model}工业内窥镜`;
                }
            }

            // 提取型号
            extractModel(title, productId) {
                if (productId.startsWith('WS-K')) {
                    const match = productId.match(/WS-K(\d+)/);
                    return match ? `WS-K${match[1]}` : 'WS-K系列';
                } else if (productId.startsWith('product-p')) {
                    const match = productId.match(/product-p(\d+)/);
                    return match ? `P${match[1]}` : 'P系列';
                } else if (productId.includes('dz')) {
                    return 'DZ60';
                } else if (productId.includes('k1010')) {
                    return 'K1010';
                } else {
                    return productId.toUpperCase();
                }
            }

            // 提取系列
            extractSeries(title, productId) {
                if (productId.startsWith('WS-K') || productId.includes('k1010')) {
                    return 'K系列';
                } else if (productId.startsWith('product-p')) {
                    return 'P系列';
                } else if (productId.includes('dz')) {
                    return 'DZ系列';
                } else if (productId.includes('sample')) {
                    return '样品系列';
                } else if (productId.includes('test')) {
                    return '测试系列';
                } else {
                    return '其他系列';
                }
            }

            // 获取次级分类
            getSecondaryCategory(productId) {
                if (productId.includes('dz') || productId.includes('robot')) {
                    return '爬行机器人';
                } else if (productId.includes('sample') || productId.includes('test')) {
                    return '测试产品';
                } else {
                    return '工业视频内窥镜';
                }
            }

            // 获取产品缩略图
            getProductThumbnail(series) {
                switch(series) {
                    case 'K系列': return '/images/products/K-series/K-main.jpg';
                    case 'P系列': return '/images/products/P-series/P-main.jpg';
                    case 'DZ系列': return '/images/products/DZ-series/DZ-main.jpg';
                    case 'S系列': return '/images/products/S-series/S-main.jpg';
                    case 'F系列': return '/images/products/F-series/F-main.jpg';
                    case 'LA系列': return '/images/products/LA-series/LA-main.jpg';
                    default: return '/images/products/placeholder.jpg';
                }
            }

            // 获取默认资讯数据 - 与实际content/news目录匹配
            getDefaultNews() {
                return [
                    {
                        id: '2024-01-15-industry-news-example',
                        title: '工业检测技术发展趋势分析',
                        summary: '深入分析当前工业检测技术的发展现状和未来趋势',
                        category: '行业资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-15',
                        published: '2024-01-15T10:00:00+08:00',
                        author: '技术部',
                        views: 1250,
                        thumbnail: '/images/news/industry-trends.jpg',
                        tags: ['行业分析', '技术趋势'],
                        featured: true
                    },
                    {
                        id: '2024-01-16-exhibition-news',
                        title: '2024年工业检测设备展览会',
                        summary: '公司将参加2024年国际工业检测设备展览会',
                        category: '展会资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-16',
                        published: '2024-01-16T09:00:00+08:00',
                        author: '市场部',
                        views: 890,
                        thumbnail: '/images/news/exhibition.jpg',
                        tags: ['展会', '工业检测'],
                        featured: false
                    },
                    {
                        id: '2024-01-20-product-launch',
                        title: '新产品发布会成功举办',
                        summary: '公司最新研发的超细内窥镜产品正式发布',
                        category: '公司新闻',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-20',
                        published: '2024-01-20T14:00:00+08:00',
                        author: '产品部',
                        views: 1580,
                        thumbnail: '/images/news/product-launch.jpg',
                        tags: ['新产品', '发布会'],
                        featured: true
                    },
                    {
                        id: '2024-03-14-tech-trends',
                        title: '无损检测技术最新进展',
                        summary: '探讨无损检测技术在各行业的最新应用和发展',
                        category: '技术动态',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-03-14',
                        published: '2024-03-14T16:00:00+08:00',
                        author: '研发中心',
                        views: 1420,
                        thumbnail: '/images/news/tech-progress.jpg',
                        tags: ['无损检测', '技术进展'],
                        featured: false
                    },
                    {
                        id: 'exhibition-news-1',
                        title: '上海工业博览会圆满结束',
                        summary: '公司在上海工业博览会上展示了最新的检测设备',
                        category: '展会资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-02-10',
                        published: '2024-02-10T11:00:00+08:00',
                        author: '市场部',
                        views: 750,
                        thumbnail: '/images/news/shanghai-expo.jpg',
                        tags: ['展会', '上海'],
                        featured: false
                    },
                    {
                        id: 'exhibition-news-2',
                        title: '北京国际检测技术展览会',
                        summary: '即将参加北京国际检测技术展览会，欢迎莅临参观',
                        category: '展会资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-02-15',
                        published: '2024-02-15T09:00:00+08:00',
                        author: '市场部',
                        views: 680,
                        thumbnail: '/images/news/beijing-expo.jpg',
                        tags: ['展会', '北京'],
                        featured: false
                    },
                    {
                        id: 'exhibition-news-6',
                        title: '深圳工业自动化展览会',
                        summary: '公司将在深圳工业自动化展览会上展示最新产品',
                        category: '展会资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-03-05',
                        published: '2024-03-05T10:00:00+08:00',
                        author: '市场部',
                        views: 520,
                        thumbnail: '/images/news/shenzhen-expo.jpg',
                        tags: ['展会', '深圳', '自动化'],
                        featured: false
                    },
                    {
                        id: 'exhibition-news-7',
                        title: '广州国际工业检测展',
                        summary: '广州国际工业检测展即将开幕，期待您的到来',
                        category: '展会资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-03-20',
                        published: '2024-03-20T08:00:00+08:00',
                        author: '市场部',
                        views: 430,
                        thumbnail: '/images/news/guangzhou-expo.jpg',
                        tags: ['展会', '广州'],
                        featured: false
                    },
                    {
                        id: 'exhibition-news-8',
                        title: '2024杭州工业检测设备与技术展览会',
                        summary: '展会将在杭州国际博览中心举办',
                        category: '展会资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-12-05',
                        published: '2024-12-05T00:00:00+08:00',
                        author: '市场部',
                        views: 320,
                        thumbnail: '/images/news/hangzhou-expo.jpg',
                        tags: ['展会', '杭州'],
                        featured: false
                    },
                    {
                        id: 'industry-news-1',
                        title: '工业4.0时代的检测技术革新',
                        summary: '探讨工业4.0背景下检测技术的发展和应用',
                        category: '行业资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-02-20',
                        published: '2024-02-20T15:00:00+08:00',
                        author: '技术部',
                        views: 1100,
                        thumbnail: '/images/news/industry4.jpg',
                        tags: ['工业4.0', '技术革新'],
                        featured: true
                    },
                    {
                        id: 'industry-news-2',
                        title: '航空航天检测技术新标准',
                        summary: '航空航天行业检测技术标准的最新更新和要求',
                        category: '行业资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-02-25',
                        published: '2024-02-25T13:00:00+08:00',
                        author: '技术部',
                        views: 950,
                        thumbnail: '/images/news/aerospace-standards.jpg',
                        tags: ['航空航天', '技术标准'],
                        featured: false
                    },
                    {
                        id: 'industry-news-3',
                        title: '汽车制造业检测技术应用',
                        summary: '内窥镜技术在汽车制造业中的广泛应用和发展前景',
                        category: '行业资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-03-01',
                        published: '2024-03-01T12:00:00+08:00',
                        author: '应用工程师',
                        views: 870,
                        thumbnail: '/images/news/automotive-inspection.jpg',
                        tags: ['汽车制造', '内窥镜应用'],
                        featured: false
                    },
                    {
                        id: 'industry-news-4',
                        title: '石油化工行业安全检测要求',
                        summary: '石油化工行业对设备安全检测的新要求和规范',
                        category: '行业资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-03-10',
                        published: '2024-03-10T14:00:00+08:00',
                        author: '安全工程师',
                        views: 720,
                        thumbnail: '/images/news/petrochemical-safety.jpg',
                        tags: ['石油化工', '安全检测'],
                        featured: false
                    }
                ];
            }

            // 获取默认案例数据 - 与实际content/cases目录匹配
            getDefaultCases() {
                return [
                    {
                        id: 'case-1',
                        title: '工业管道检测解决方案',
                        summary: '针对大型工业管道内部检测的专业解决方案，采用高清电子内窥镜实现360度全方位检测，有效预防管道故障',
                        industry: '石油化工',
                        application: '工业管道系统',
                        client: '某大型石化企业',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-20',
                        published: '2024-01-20T00:00:00+08:00',
                        result: '检测效率提升200%，预防性维护成功率达95%',
                        thumbnail: '/images/cases/industrial-pipeline.jpg',
                        tags: ['石油化工', '管道检测'],
                        featured: true,
                        equipment_used: 'WS-K1010电子内窥镜',
                        detection_object: '工业管道系统'
                    },
                    {
                        id: 'case-2',
                        title: '航空发动机叶片检测项目',
                        summary: '为航空发动机制造商提供叶片内部缺陷检测服务，确保产品质量和飞行安全',
                        industry: '航空航天',
                        application: '发动机叶片检测',
                        client: '某航空发动机制造商',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-25',
                        published: '2024-01-25T00:00:00+08:00',
                        result: '缺陷检出率提升至99.8%，产品合格率显著提高',
                        thumbnail: '/images/cases/aviation-blade.jpg',
                        tags: ['航空航天', '叶片检测'],
                        featured: true,
                        equipment_used: 'WS-K08510超细内窥镜',
                        detection_object: '航空发动机叶片'
                    },
                    {
                        id: 'case-3',
                        title: '新能源汽车电池检测方案',
                        summary: '为新能源汽车电池生产线提供专业的质量检测方案，确保电池组装质量和安全性',
                        industry: '汽车制造',
                        application: '电池组装检测',
                        client: '某新能源汽车制造商',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-02-01',
                        published: '2024-02-01T00:00:00+08:00',
                        result: '生产线检测效率提升150%，质量问题提前发现率达99%',
                        thumbnail: '/images/cases/ev-battery.jpg',
                        tags: ['汽车制造', '新能源', '电池检测'],
                        featured: false,
                        equipment_used: 'WS-K08510超细内窥镜',
                        detection_object: '电池组装'
                    },
                    {
                        id: 'automotive-manufacturing',
                        title: '汽车制造质量控制案例',
                        summary: '为汽车制造企业提供全面的质量控制解决方案，涵盖发动机、变速箱等关键部件检测',
                        industry: '汽车制造',
                        application: '质量控制',
                        client: '某大型汽车制造集团',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-02-10',
                        published: '2024-02-10T00:00:00+08:00',
                        result: '整体质量控制水平提升40%，客户满意度显著提高',
                        thumbnail: '/images/cases/automotive-manufacturing.jpg',
                        tags: ['汽车制造', '质量控制'],
                        featured: true,
                        equipment_used: '多型号内窥镜设备',
                        detection_object: '汽车关键部件'
                    },
                    {
                        id: 'aviation-blade-inspection',
                        title: '航空叶片精密检测',
                        summary: '采用超细内窥镜技术对航空发动机叶片进行精密检测，确保航空安全',
                        industry: '航空航天',
                        application: '叶片精密检测',
                        client: '某航空制造企业',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-02-15',
                        published: '2024-02-15T00:00:00+08:00',
                        result: '检测精度提升300%，零缺陷漏检记录',
                        thumbnail: '/images/cases/aviation-blade-inspection.jpg',
                        tags: ['航空航天', '精密检测', '叶片'],
                        featured: false,
                        equipment_used: 'WS-K08510超细内窥镜',
                        detection_object: '航空发动机叶片'
                    },
                    {
                        id: 'gas-turbine-inspection',
                        title: '燃气轮机检测项目',
                        summary: '为电力企业提供燃气轮机内部检测服务，确保设备安全稳定运行',
                        industry: '电力能源',
                        application: '燃气轮机检测',
                        client: '某电力集团',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-02-20',
                        published: '2024-02-20T00:00:00+08:00',
                        result: '设备故障预警准确率达95%，维护成本降低30%',
                        thumbnail: '/images/cases/gas-turbine.jpg',
                        tags: ['电力能源', '燃气轮机'],
                        featured: false,
                        equipment_used: 'WS-K1210工业内窥镜',
                        detection_object: '燃气轮机内部'
                    },
                    {
                        id: 'industrial-pipeline',
                        title: '工业管道系统检测',
                        summary: '为石化企业提供管道系统全面检测服务，预防管道泄漏和安全事故',
                        industry: '石油化工',
                        application: '管道系统检测',
                        client: '某石化集团',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-02-25',
                        published: '2024-02-25T00:00:00+08:00',
                        result: '管道安全事故零发生，检测覆盖率100%',
                        thumbnail: '/images/cases/industrial-pipeline.jpg',
                        tags: ['石油化工', '管道检测', '安全防护'],
                        featured: true,
                        equipment_used: 'DZ60爬行机器人',
                        detection_object: '工业管道系统'
                    },
                    {
                        id: 'wind-turbine-gearbox',
                        title: '风电齿轮箱检测方案',
                        summary: '为风电企业提供齿轮箱内部检测服务，延长设备使用寿命，提高发电效率',
                        industry: '新能源',
                        application: '风电齿轮箱检测',
                        client: '某风电设备制造商',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-03-01',
                        published: '2024-03-01T00:00:00+08:00',
                        result: '设备使用寿命延长25%，维护成本降低40%',
                        thumbnail: '/images/cases/wind-turbine-gearbox.jpg',
                        tags: ['新能源', '风电', '齿轮箱'],
                        featured: false,
                        equipment_used: 'WS-K1510工业内窥镜',
                        detection_object: '风电齿轮箱'
                    }
                ];
            }

            // 获取默认应用领域数据 - 基于首页配置的6个领域
            getDefaultApplications() {
                return [
                    {
                        id: 'aerospace',
                        title: '航空航天',
                        summary: '为航空航天领域提供高精度无损检测解决方案',
                        description: '航空航天领域对检测精度要求极高，内窥镜技术在发动机叶片、燃烧室、涡轮等关键部件检测中发挥重要作用，确保飞行安全',
                        icon: 'fas fa-plane',
                        category: '航空航天',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-15T10:00:00+08:00',
                        applications: ['发动机叶片检测', '燃烧室检测', '涡轮检测', '喷嘴检测'],
                        products: ['WS-K08510-a', 'WS-K08510-b', 'WS-K09510-a'],
                        cases: ['case-2', 'aviation-blade-inspection'],
                        thumbnail: '/images/applications/aerospace.jpg',
                        featured: true,
                        tags: ['航空航天', '精密检测', '发动机']
                    },
                    {
                        id: 'energy',
                        title: '能源电力',
                        summary: '助力能源电力设备安全运行监测',
                        description: '能源电力行业关系国计民生，内窥镜技术在发电机、变压器、燃气轮机等设备检测中应用广泛，确保电力系统安全稳定运行',
                        icon: 'fas fa-bolt',
                        category: '能源电力',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-14T10:00:00+08:00',
                        applications: ['变压器检测', '发电机检测', '燃气轮机检测', '开关设备检测'],
                        products: ['product-p1510', 'WS-K1510-a', 'product-p2210'],
                        cases: ['gas-turbine-inspection'],
                        thumbnail: '/images/applications/energy.jpg',
                        featured: true,
                        tags: ['能源电力', '设备监测', '安全运行']
                    },
                    {
                        id: 'automotive',
                        title: '汽车制造',
                        summary: '汽车制造质量控制全程监测方案',
                        description: '在汽车制造领域，内窥镜技术广泛应用于发动机缸体、变速箱、制动系统等关键部件的质量检测，确保产品质量和安全性',
                        icon: 'fas fa-car',
                        category: '制造业',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-13T10:00:00+08:00',
                        applications: ['发动机缸体检测', '变速箱内部检测', '制动系统检测', '排气系统检测'],
                        products: ['WS-K1210-a', 'product-p1210', 'product-p1510'],
                        cases: ['case-3', 'automotive-manufacturing'],
                        thumbnail: '/images/applications/automotive.jpg',
                        featured: true,
                        tags: ['汽车制造', '质量控制', '发动机']
                    },
                    {
                        id: 'machinery',
                        title: '机械加工',
                        summary: '机械加工质量检测与工艺优化',
                        description: '机械加工行业需要精确的质量控制，内窥镜技术在机械零件内部检测、工艺优化等方面发挥重要作用，提高产品质量和生产效率',
                        icon: 'fas fa-cogs',
                        category: '制造业',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-12T10:00:00+08:00',
                        applications: ['机械零件检测', '工艺质量控制', '设备维护检测', '精密加工检测'],
                        products: ['product-p1210', 'WS-K1210-a', 'product-p1810'],
                        cases: ['case-1'],
                        thumbnail: '/images/applications/machinery.jpg',
                        featured: false,
                        tags: ['机械加工', '质量检测', '工艺优化']
                    },
                    {
                        id: 'casting',
                        title: '精密铸造',
                        summary: '精密铸造工艺过程质量控制',
                        description: '精密铸造行业对产品质量要求严格，内窥镜技术在铸件内部缺陷检测、工艺过程监控等方面提供有效解决方案',
                        icon: 'fas fa-industry',
                        category: '制造业',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-11T10:00:00+08:00',
                        applications: ['铸件内部检测', '工艺过程监控', '缺陷识别', '质量评估'],
                        products: ['product-p2410', 'WS-K1810-a', 'product-p2810'],
                        cases: ['industrial-pipeline'],
                        thumbnail: '/images/applications/casting.jpg',
                        featured: false,
                        tags: ['精密铸造', '工艺控制', '缺陷检测']
                    },
                    {
                        id: 'research',
                        title: '科学研究',
                        summary: '科研实验检测分析专业解决方案',
                        description: '科学研究领域需要精确的检测分析工具，内窥镜技术在材料研究、实验分析、科研项目等方面提供专业的检测解决方案',
                        icon: 'fas fa-microscope',
                        category: '科研教育',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-10T10:00:00+08:00',
                        applications: ['材料研究', '实验分析', '科研项目检测', '教学演示'],
                        products: ['WS-K08510-a', 'product-p1010-model', 'sample-product-2'],
                        cases: ['wind-turbine-gearbox'],
                        thumbnail: '/images/applications/research.jpg',
                        featured: false,
                        tags: ['科学研究', '实验分析', '材料研究']
                    }
                ];
            }

            // 获取默认新品推荐数据 - 基于首页配置
            getDefaultFeaturedProducts() {
                return [
                    {
                        id: 'featured-1',
                        product_id: 'WS-K08510-a',
                        title: 'WS-K08510超细工业电子内窥镜',
                        summary: '0.85mm超小直径，高清成像，适用于极小空间检测',
                        model: 'WS-K08510',
                        series: 'K系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-01T12:00:00+08:00',
                        thumbnail: '/images/products/K-series/K-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 1,
                        reason: '最新技术突破，超细直径设计'
                    },
                    {
                        id: 'featured-2',
                        product_id: 'product-p1210',
                        title: 'P1210工业内窥镜',
                        summary: 'P系列标准型工业内窥镜，功能全面，性价比高',
                        model: 'P1210',
                        series: 'P系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-03T12:00:00+08:00',
                        thumbnail: '/images/products/P-series/P-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 2,
                        reason: '经典产品，市场认可度高'
                    },
                    {
                        id: 'featured-3',
                        product_id: 'product-dz60',
                        title: 'DZ60爬行机器人',
                        summary: '管道爬行检测机器人，远程操控，适用于大口径管道检测',
                        model: 'DZ60',
                        series: 'DZ系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '爬行机器人',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-04T12:00:00+08:00',
                        thumbnail: '/images/products/DZ-series/DZ-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 3,
                        reason: '创新产品，解决大口径管道检测难题'
                    },
                    {
                        id: 'featured-4',
                        product_id: 'WS-K1210-a',
                        title: 'WS-K1210工业电子内窥镜',
                        summary: '1.2mm小直径，高清成像，适用于精密检测',
                        model: 'WS-K1210',
                        series: 'K系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-05T12:00:00+08:00',
                        thumbnail: '/images/products/K-series/K-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 4,
                        reason: '精密检测首选，技术领先'
                    },
                    {
                        id: 'featured-5',
                        product_id: 'product-p1510',
                        title: 'P1510工业内窥镜',
                        summary: 'P系列高端型号，功能强大，适用范围广',
                        model: 'P1510',
                        series: 'P系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-06T12:00:00+08:00',
                        thumbnail: '/images/products/P-series/P-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 5,
                        reason: '高端产品，专业用户首选'
                    },
                    {
                        id: 'featured-6',
                        product_id: 'WS-K1510-a',
                        title: 'WS-K1510工业电子内窥镜',
                        summary: '1.5mm直径，平衡性能与便携性的理想选择',
                        model: 'WS-K1510',
                        series: 'K系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-07T12:00:00+08:00',
                        thumbnail: '/images/products/K-series/K-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 6,
                        reason: '性能与便携性的完美平衡'
                    }
                ];
            }

            getFallbackData() {
                return {
                    products: this.getDefaultProducts(),
                    news: this.getDefaultNews(),
                    cases: this.getDefaultCases(),
                    applications: this.getDefaultApplications(),
                    featured_products: this.getDefaultFeaturedProducts(),
                    categories: [],
                    suppliers: []
                };
            }
        }

        // 确保ContentDataLoader在全局可用
        window.ContentDataLoader = ContentDataLoader;
        console.log('ContentDataLoader类已内联定义');
    </script>

    <!-- 引入外部JavaScript文件 -->
    <script src="data-loader.js"></script>
    <script src="file-operations.js"></script>
    <script src="admin-functions.js"></script>
    <script src="debug-products.js"></script>
    <script src="test-products.js"></script>

    <script>
        console.log('内容管理系统主脚本开始加载...');

        // 全局变量
        let currentSection = 'welcome';
        let currentData = [];
        let filteredData = [];





        // 数据存储
        let contentData = {
            news: [],
            products: [],
            cases: [],
            applications: [],
            categories: [],
            suppliers: [],
            series: [],
            featured_products: []
        };

        // 数据加载函数
        async function loadContentData() {
            try {
                console.log('开始加载内容数据...');

                // 加载产品数据
                await loadProducts();

                // 加载分类数据
                await loadCategories();

                // 加载供应商数据
                await loadSuppliers();

                // 加载资讯数据
                await loadNews();

                // 加载案例数据
                await loadCases();

                // 加载应用领域数据
                await loadApplications();

                // 加载新品推荐数据
                await loadFeaturedProducts();

                console.log('内容数据加载完成:', contentData);

                // 更新统计数据
                updateStatistics();

            } catch (error) {
                console.error('加载内容数据失败:', error);
                // 如果加载失败，使用备用数据
                loadFallbackData();
            }
        }

        // 加载产品数据
        async function loadProducts() {
            try {
                // 这里应该从GitHub API或本地文件系统加载产品数据
                // 暂时使用模拟的实际产品数据
                contentData.products = [
                    {
                        id: 'WS-K08510-a',
                        title: 'WS-K08510超细工业电子内窥镜',
                        summary: '0.85mm超小直径，高清成像，适用于极小空间检测',
                        model: 'WS-K08510',
                        series: 'K系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2025-01-01T12:00:00+08:00',
                        thumbnail: '/images/products/K-series/K-main.jpg',
                        parameters: [
                            { name: "主机屏幕", value: "6英寸" },
                            { name: "待机时长", value: "8小时" },
                            { name: "探头直径", value: "0.85mm" },
                            { name: "像素", value: "16万" },
                            { name: "景深", value: "3mm~70mm" },
                            { name: "视场角", value: "120度" },
                            { name: "视向", value: "直视" },
                            { name: "光源", value: "光纤光源" },
                            { name: "导向", value: "无导向" },
                            { name: "管线材质", value: "合金弹簧软管" },
                            { name: "防护等级", value: "IP67" },
                            { name: "工作温度", value: "-20℃~70℃" }
                        ],
                        gallery: [
                            { image: "/images/products/K-series/K-main.jpg", alt: "主图", is_main: true },
                            { image: "/images/products/K-series/K-1.jpg", alt: "超细内窥镜副图1" },
                            { image: "/images/products/K-series/K-2.jpg", alt: "超细内窥镜副图2" },
                            { image: "/images/products/K-series/K-3.jpg", alt: "超细内窥镜副图3" }
                        ],
                        applications: ['精密仪器维修', '航空航天精密检测', '高端制造领域应用'],
                        application_scenarios: '微型空间检测首选方案，适用于医疗器械、精密模具等微型领域检测需求',
                        data_download: [
                            { file_title: "规格书", file_path: "/uploads/规格书.pdf" }
                        ],
                        related_products: ['WS-K08510-b', 'WS-K09510-a'],
                        featured: true,
                        tags: ['超细探头', '高清成像', '工业级']
                    },
                    {
                        id: 'WS-K08510-b',
                        title: 'WS-K08510B超细工业电子内窥镜',
                        summary: '0.85mm超小直径，升级版高清成像，适用于极小空间检测',
                        model: 'WS-K08510B',
                        series: 'K系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2025-01-02T12:00:00+08:00',
                        thumbnail: '/images/products/K-series/K-main.jpg',
                        parameters: [
                            { name: "主机屏幕", value: "7英寸" },
                            { name: "待机时长", value: "10小时" },
                            { name: "探头直径", value: "0.85mm" },
                            { name: "像素", value: "20万" },
                            { name: "景深", value: "3mm~80mm" },
                            { name: "视场角", value: "130度" },
                            { name: "视向", value: "直视" },
                            { name: "光源", value: "LED光源" },
                            { name: "导向", value: "无导向" },
                            { name: "管线材质", value: "合金弹簧软管" },
                            { name: "防护等级", value: "IP67" },
                            { name: "工作温度", value: "-20℃~80℃" }
                        ],
                        gallery: [
                            { image: "/images/products/K-series/K-main.jpg", alt: "主图", is_main: true },
                            { image: "/images/products/K-series/K-1.jpg", alt: "超细内窥镜副图1" }
                        ],
                        applications: ['精密仪器维修', '航空航天精密检测'],
                        application_scenarios: '升级版微型空间检测方案',
                        data_download: [],
                        related_products: ['WS-K08510-a', 'WS-K09510-a'],
                        featured: false,
                        tags: ['超细探头', '高清成像', '升级版']
                    },
                    {
                        id: 'product-p08510',
                        title: 'P08510工业内窥镜',
                        summary: 'P系列经济型工业内窥镜，性价比优选',
                        model: 'P08510',
                        series: 'P系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2025-01-04T12:00:00+08:00',
                        thumbnail: '/images/products/P-series/P-main.jpg',
                        parameters: [
                            { name: "主机屏幕", value: "5英寸" },
                            { name: "待机时长", value: "6小时" },
                            { name: "探头直径", value: "8.5mm" },
                            { name: "像素", value: "12万" },
                            { name: "景深", value: "10mm~150mm" },
                            { name: "视场角", value: "100度" },
                            { name: "视向", value: "直视" },
                            { name: "光源", value: "LED光源" },
                            { name: "导向", value: "四向导向" },
                            { name: "管线材质", value: "钨丝编织软管" },
                            { name: "防护等级", value: "IP65" },
                            { name: "工作温度", value: "0℃~60℃" }
                        ],
                        gallery: [
                            { image: "/images/products/P-series/P-main.jpg", alt: "主图", is_main: true }
                        ],
                        applications: ['汽车制造', '机械维修'],
                        application_scenarios: 'P系列经济型解决方案，适合一般工业检测需求',
                        data_download: [],
                        related_products: ['product-p1210', 'product-p1510'],
                        featured: false,
                        tags: ['经济型', 'P系列', '性价比']
                    },
                    {
                        id: 'product-p1210',
                        title: 'P1210工业内窥镜',
                        summary: 'P系列标准型工业内窥镜，功能全面',
                        model: 'P1210',
                        series: 'P系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2025-01-05T12:00:00+08:00',
                        thumbnail: '/images/products/P-series/P-main.jpg',
                        parameters: [
                            { name: "主机屏幕", value: "7英寸" },
                            { name: "待机时长", value: "8小时" },
                            { name: "探头直径", value: "12mm" },
                            { name: "像素", value: "30万" },
                            { name: "景深", value: "15mm~200mm" },
                            { name: "视场角", value: "120度" },
                            { name: "视向", value: "直视/侧视" },
                            { name: "光源", value: "高亮LED" },
                            { name: "导向", value: "四向导向" },
                            { name: "管线材质", value: "钨丝编织软管" },
                            { name: "防护等级", value: "IP67" },
                            { name: "工作温度", value: "-10℃~70℃" }
                        ],
                        gallery: [
                            { image: "/images/products/P-series/P-main.jpg", alt: "主图", is_main: true }
                        ],
                        applications: ['管道检测', '设备维护'],
                        application_scenarios: 'P系列标准型解决方案，功能全面适用性强',
                        data_download: [],
                        related_products: ['product-p08510', 'product-p1510'],
                        featured: true,
                        tags: ['标准型', 'P系列', '功能全面']
                    },
                    {
                        id: 'product-dz60',
                        title: 'DZ60爬行机器人',
                        summary: '管道爬行检测机器人，远程操控，适用大口径管道',
                        model: 'DZ60',
                        series: 'DZ系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '爬行机器人',
                        status: 'published',
                        statusName: '已发布',
                        published: '2025-01-06T12:00:00+08:00',
                        thumbnail: '/images/products/DZ-series/DZ-main.jpg',
                        parameters: [
                            { name: "适用管径", value: "60-300mm" },
                            { name: "爬行距离", value: "最大100米" },
                            { name: "摄像头", value: "360度旋转" },
                            { name: "像素", value: "200万" },
                            { name: "照明", value: "LED环形光源" },
                            { name: "防护等级", value: "IP68" },
                            { name: "工作温度", value: "-20℃~60℃" },
                            { name: "电源", value: "外接电源" },
                            { name: "控制方式", value: "有线遥控" },
                            { name: "记录功能", value: "视频录制" }
                        ],
                        gallery: [
                            { image: "/images/products/DZ-series/DZ-main.jpg", alt: "主图", is_main: true }
                        ],
                        applications: ['管道检测', '下水道检测', '工业管道'],
                        application_scenarios: '大口径管道检测专用设备，远程操控安全可靠',
                        data_download: [],
                        related_products: [],
                        featured: true,
                        tags: ['爬行机器人', '管道检测', '远程操控']
                    }
                ];

                console.log('产品数据加载完成:', contentData.products.length, '个产品');
            } catch (error) {
                console.error('加载产品数据失败:', error);
            }
        }

        // 加载分类数据 - 基于实际content/product_categories目录
        async function loadCategories() {
            try {
                contentData.categories = [
                    {
                        id: 'electronic-endoscope',
                        title: '电子内窥镜',
                        description: '高清电子内窥镜产品，包含工业视频内窥镜、爬行机器人等',
                        parent: null,
                        status: 'published',
                        statusName: '已发布',
                        product_count: 28,
                        children: ['industrial-video-endoscope', 'crawler-robot', 'industrial-pipeline-endoscope'],
                        thumbnail: '/images/categories/electronic-endoscope.jpg',
                        featured: true
                    },
                    {
                        id: 'industrial-video-endoscope',
                        title: '工业视频内窥镜',
                        description: '工业级视频内窥镜，适用于各种工业检测场景',
                        parent: 'electronic-endoscope',
                        status: 'published',
                        statusName: '已发布',
                        product_count: 25,
                        children: [],
                        thumbnail: '/images/categories/industrial-video-endoscope.jpg',
                        featured: true
                    },
                    {
                        id: 'crawler-robot',
                        title: '爬行机器人',
                        description: '管道爬行检测机器人，用于大口径管道内部检测',
                        parent: 'electronic-endoscope',
                        status: 'published',
                        statusName: '已发布',
                        product_count: 2,
                        children: [],
                        thumbnail: '/images/categories/crawler-robot.jpg',
                        featured: false
                    },
                    {
                        id: 'industrial-pipeline-endoscope',
                        title: '工业管道内窥镜',
                        description: '专用于工业管道检测的内窥镜设备',
                        parent: 'electronic-endoscope',
                        status: 'published',
                        statusName: '已发布',
                        product_count: 1,
                        children: [],
                        thumbnail: '/images/categories/industrial-pipeline-endoscope.jpg',
                        featured: false
                    },
                    {
                        id: 'fiber-endoscope',
                        title: '光纤内窥镜',
                        description: '光纤传输内窥镜产品，适用于特殊环境检测',
                        parent: null,
                        status: 'published',
                        statusName: '已发布',
                        product_count: 3,
                        children: [],
                        thumbnail: '/images/categories/fiber-endoscope.jpg',
                        featured: false
                    },
                    {
                        id: 'optical-endoscope',
                        title: '光学内窥镜',
                        description: '传统光学内窥镜产品，成本低廉，适用于基础检测',
                        parent: null,
                        status: 'published',
                        statusName: '已发布',
                        product_count: 2,
                        children: [],
                        thumbnail: '/images/categories/optical-endoscope.jpg',
                        featured: false
                    }
                ];

                console.log('分类数据加载完成:', contentData.categories.length, '个分类');
            } catch (error) {
                console.error('加载分类数据失败:', error);
            }
        }

        // 加载供应商数据
        async function loadSuppliers() {
            try {
                contentData.suppliers = [
                    {
                        id: 'vsndt-supplier',
                        title: '深圳市微视光电科技有限公司',
                        name: '深圳市微视光电科技有限公司',
                        shortName: '微视光电',
                        address: '广东省深圳市南山区科技园',
                        type: '制造商',
                        contact_person: '王轩',
                        position: '区域经理',
                        phone: '15222189183',
                        email: 'wangxuan@sz-wise.cn',
                        website: 'https://www.visndt.com',
                        description: '专业的工业内窥镜制造商，致力于为客户提供高质量的无损检测解决方案',
                        series: ['K系列', 'P系列', 'DZ系列', 'S系列', 'F系列', 'LA系列'],
                        status: 'active',
                        statusName: '活跃',
                        established: '2010',
                        product_count: 30,
                        main_products: ['电子内窥镜', '工业视频内窥镜', '爬行机器人'],
                        certifications: ['ISO9001', 'CE认证', '国家高新技术企业'],
                        logo: '/images/suppliers/visndt-logo.jpg',
                        featured: true
                    },
                    {
                        id: 'hs-supplier',
                        title: '华视内窥镜有限公司',
                        name: '华视内窥镜有限公司',
                        shortName: '华视内窥镜',
                        address: '广东省深圳市宝安区',
                        type: '制造商',
                        contact_person: '李经理',
                        position: '销售经理',
                        phone: '13800138000',
                        email: 'li@huashi.com',
                        website: 'https://www.huashi.com',
                        description: '专注于光电检测技术研发和产品制造的高新技术企业',
                        series: ['HS系列'],
                        status: 'active',
                        statusName: '活跃',
                        established: '2015',
                        product_count: 3,
                        main_products: ['光纤内窥镜', '光学内窥镜', '检测配件'],
                        certifications: ['ISO9001', 'CE认证'],
                        logo: '/images/suppliers/huashi-logo.jpg',
                        featured: false
                    }
                ];

                console.log('供应商数据加载完成:', contentData.suppliers.length, '个供应商');
            } catch (error) {
                console.error('加载供应商数据失败:', error);
            }
        }

        // 加载新品推荐数据
        async function loadFeaturedProducts() {
            try {
                // 基于首页配置的6个推荐产品
                contentData.featured_products = [
                    {
                        id: 'featured-1',
                        product_id: 'WS-K08510-a',
                        title: 'WS-K08510超细工业电子内窥镜',
                        summary: '0.85mm超小直径，高清成像，适用于极小空间检测',
                        model: 'WS-K08510',
                        series: 'K系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-01T12:00:00+08:00',
                        thumbnail: '/images/products/K-series/K-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 1,
                        reason: '最新技术突破，超细直径设计',
                        homepage_display: true
                    },
                    {
                        id: 'featured-2',
                        product_id: 'product-p1210',
                        title: 'P1210工业内窥镜',
                        summary: 'P系列标准型工业内窥镜，功能全面，性价比高',
                        model: 'P1210',
                        series: 'P系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-03T12:00:00+08:00',
                        thumbnail: '/images/products/P-series/P-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 2,
                        reason: '经典产品，市场认可度高',
                        homepage_display: true
                    },
                    {
                        id: 'featured-3',
                        product_id: 'product-dz60',
                        title: 'DZ60爬行机器人',
                        summary: '管道爬行检测机器人，远程操控，适用于大口径管道检测',
                        model: 'DZ60',
                        series: 'DZ系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '爬行机器人',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-04T12:00:00+08:00',
                        thumbnail: '/images/products/DZ-series/DZ-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 3,
                        reason: '创新产品，解决大口径管道检测难题',
                        homepage_display: true
                    },
                    {
                        id: 'featured-4',
                        product_id: 'WS-K1210-a',
                        title: 'WS-K1210工业电子内窥镜',
                        summary: '1.2mm小直径，高清成像，适用于精密检测',
                        model: 'WS-K1210',
                        series: 'K系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-05T12:00:00+08:00',
                        thumbnail: '/images/products/K-series/K-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 4,
                        reason: '精密检测首选，技术领先',
                        homepage_display: true
                    },
                    {
                        id: 'featured-5',
                        product_id: 'product-p1510',
                        title: 'P1510工业内窥镜',
                        summary: 'P系列高端型号，功能强大，适用范围广',
                        model: 'P1510',
                        series: 'P系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-06T12:00:00+08:00',
                        thumbnail: '/images/products/P-series/P-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 5,
                        reason: '高端产品，专业用户首选',
                        homepage_display: true
                    },
                    {
                        id: 'featured-6',
                        product_id: 'WS-K1510-a',
                        title: 'WS-K1510工业电子内窥镜',
                        summary: '1.5mm直径，平衡性能与便携性的理想选择',
                        model: 'WS-K1510',
                        series: 'K系列',
                        supplier: '深圳市微视光电科技有限公司',
                        primary_category: '电子内窥镜',
                        secondary_category: '工业视频内窥镜',
                        status: 'published',
                        statusName: '已发布',
                        published: '2024-01-07T12:00:00+08:00',
                        thumbnail: '/images/products/K-series/K-main.jpg',
                        featured: true,
                        price: '询价',
                        stock: '有库存',
                        sort_order: 6,
                        reason: '性能与便携性的完美平衡',
                        homepage_display: true
                    }
                ];

                console.log('新品推荐数据加载完成:', contentData.featured_products.length, '个推荐产品');
            } catch (error) {
                console.error('加载新品推荐数据失败:', error);
            }
        }

        // 加载资讯数据
        async function loadNews() {
            try {
                // 生成完整的资讯数据
                contentData.news = [
                    {
                        id: 'news001',
                        title: '视觉检测技术新突破',
                        summary: '最新的AI视觉检测技术在工业领域取得重大进展，为制造业质量控制带来革命性改变',
                        category: '技术资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-15',
                        published: '2024-01-15T10:00:00+08:00',
                        author: '技术部',
                        views: 1250,
                        thumbnail: '/images/news/tech-breakthrough.jpg',
                        tags: ['AI技术', '视觉检测', '工业4.0'],
                        featured: true
                    },
                    {
                        id: 'news002',
                        title: '公司参展工业博览会',
                        summary: '维森公司将参加2024年国际工业自动化博览会，展示最新内窥镜检测技术',
                        category: '公司新闻',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-12',
                        published: '2024-01-12T09:00:00+08:00',
                        author: '市场部',
                        views: 890,
                        thumbnail: '/images/news/exhibition.jpg',
                        tags: ['展会', '工业自动化', '产品展示'],
                        featured: false
                    },
                    {
                        id: 'news003',
                        title: '新产品K系列超细内窥镜发布',
                        summary: '全新K系列超细内窥镜正式发布，探头直径仅0.85mm，开创行业新标准',
                        category: '产品发布',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-10',
                        published: '2024-01-10T14:00:00+08:00',
                        author: '产品部',
                        views: 2150,
                        thumbnail: '/images/news/k-series-launch.jpg',
                        tags: ['新产品', 'K系列', '超细内窥镜'],
                        featured: true
                    },
                    {
                        id: 'news004',
                        title: '工业内窥镜在航空航天领域的应用',
                        summary: '探讨工业内窥镜在航空航天精密检测中的重要作用和技术发展趋势',
                        category: '行业动态',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-08',
                        published: '2024-01-08T16:00:00+08:00',
                        author: '技术部',
                        views: 1680,
                        thumbnail: '/images/news/aerospace-application.jpg',
                        tags: ['航空航天', '精密检测', '应用案例'],
                        featured: false
                    },
                    {
                        id: 'news005',
                        title: '维森公司获得ISO质量认证',
                        summary: '公司通过ISO 9001:2015质量管理体系认证，产品质量获得国际认可',
                        category: '公司新闻',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-05',
                        published: '2024-01-05T11:00:00+08:00',
                        author: '质量部',
                        views: 950,
                        thumbnail: '/images/news/iso-certification.jpg',
                        tags: ['ISO认证', '质量管理', '企业资质'],
                        featured: false
                    },
                    {
                        id: 'news006',
                        title: '无损检测技术发展趋势分析',
                        summary: '深度分析无损检测技术的发展现状和未来趋势，为行业发展提供参考',
                        category: '技术资讯',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-03',
                        published: '2024-01-03T13:00:00+08:00',
                        author: '研发中心',
                        views: 1420,
                        thumbnail: '/images/news/ndt-trends.jpg',
                        tags: ['无损检测', '技术趋势', '行业分析'],
                        featured: true
                    }
                ];

                console.log('资讯数据加载完成:', contentData.news.length, '条资讯');
            } catch (error) {
                console.error('加载资讯数据失败:', error);
            }
        }

        // 加载案例数据
        async function loadCases() {
            try {
                // 生成完整的应用案例数据
                contentData.cases = [
                    {
                        id: 'case001',
                        title: '汽车制造业质量检测案例',
                        summary: '某知名汽车制造企业采用我司内窥镜进行发动机缸体检测，大幅提升检测效率',
                        industry: '汽车制造',
                        application: '发动机缸体检测',
                        client: '某知名汽车制造企业',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-14',
                        published: '2024-01-14T15:00:00+08:00',
                        duration: '3个月',
                        result: '检测效率提升60%，缺陷检出率提高35%',
                        thumbnail: '/images/cases/automotive.jpg',
                        products_used: ['WS-K1210-a', 'product-p1210'],
                        challenge: '传统检测方法效率低，无法检测复杂内部结构',
                        solution: '采用K系列超细内窥镜配合P系列标准内窥镜',
                        tags: ['汽车制造', '发动机检测', '质量控制'],
                        featured: true
                    },
                    {
                        id: 'case002',
                        title: '航空航天精密部件检测',
                        summary: '航空发动机叶片内部缺陷检测，确保飞行安全',
                        industry: '航空航天',
                        application: '发动机叶片检测',
                        client: '某航空发动机制造商',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-12',
                        published: '2024-01-12T10:00:00+08:00',
                        duration: '6个月',
                        result: '100%检测覆盖率，零缺陷漏检',
                        thumbnail: '/images/cases/aerospace.jpg',
                        products_used: ['WS-K08510-a', 'WS-K08510-b'],
                        challenge: '叶片内部通道复杂，传统方法无法深入检测',
                        solution: '使用0.85mm超细内窥镜，配合专用导向系统',
                        tags: ['航空航天', '叶片检测', '精密检测'],
                        featured: true
                    },
                    {
                        id: 'case003',
                        title: '石化管道内壁检测项目',
                        summary: '大型石化企业管道内壁腐蚀检测，预防安全事故',
                        industry: '石油化工',
                        application: '管道内壁检测',
                        client: '某大型石化企业',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-10',
                        published: '2024-01-10T09:00:00+08:00',
                        duration: '4个月',
                        result: '发现并处理15处潜在风险点',
                        thumbnail: '/images/cases/petrochemical.jpg',
                        products_used: ['product-dz60', 'product-p2810'],
                        challenge: '管道长度超过1公里，人工检测困难',
                        solution: '采用DZ60爬行机器人配合大口径内窥镜',
                        tags: ['石油化工', '管道检测', '安全防护'],
                        featured: false
                    },
                    {
                        id: 'case004',
                        title: '电力设备内部检测',
                        summary: '变压器内部绕组检测，确保电力系统稳定运行',
                        industry: '电力能源',
                        application: '变压器检测',
                        client: '某省电力公司',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-08',
                        published: '2024-01-08T14:00:00+08:00',
                        duration: '2个月',
                        result: '提前发现3台变压器潜在故障',
                        thumbnail: '/images/cases/power.jpg',
                        products_used: ['product-p1510', 'WS-K1510-a'],
                        challenge: '变压器内部空间狭小，带电检测要求高',
                        solution: '使用绝缘性能优异的K系列内窥镜',
                        tags: ['电力能源', '变压器检测', '预防性维护'],
                        featured: false
                    },
                    {
                        id: 'case005',
                        title: '风电叶片内部检测',
                        summary: '风力发电机叶片内部结构检测，延长设备使用寿命',
                        industry: '新能源',
                        application: '风电叶片检测',
                        client: '某风电设备制造商',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-06',
                        published: '2024-01-06T11:00:00+08:00',
                        duration: '5个月',
                        result: '叶片质量合格率提升至99.5%',
                        thumbnail: '/images/cases/wind-power.jpg',
                        products_used: ['product-p2410', 'WS-K1810-a'],
                        challenge: '叶片长度超过80米，内部检测难度大',
                        solution: '采用长距离传输内窥镜系统',
                        tags: ['新能源', '风电叶片', '质量检测'],
                        featured: true
                    },
                    {
                        id: 'case006',
                        title: '船舶发动机维护检测',
                        summary: '大型船舶发动机内部检测维护，确保海上航行安全',
                        industry: '船舶制造',
                        application: '发动机维护',
                        client: '某船舶制造集团',
                        status: 'published',
                        statusName: '已发布',
                        publishDate: '2024-01-04',
                        published: '2024-01-04T16:00:00+08:00',
                        duration: '3个月',
                        result: '维护效率提升40%，故障率降低50%',
                        thumbnail: '/images/cases/marine.jpg',
                        products_used: ['product-p3910', 'product-p6010'],
                        challenge: '海洋环境腐蚀性强，检测设备要求高',
                        solution: '使用防腐蚀性能优异的P系列内窥镜',
                        tags: ['船舶制造', '发动机维护', '海洋环境'],
                        featured: false
                    }
                ];

                console.log('案例数据加载完成:', contentData.cases.length, '个案例');
            } catch (error) {
                console.error('加载案例数据失败:', error);
            }
        }
                        title: '航空发动机叶片检测',
                        industry: '航空航天',
                        application: '叶片检测',
                        client: '航空发动机公司',
                        status: 'published',
                        publishDate: '2024-01-11',
                        duration: '6个月',
                        result: '零缺陷检测率',
                        thumbnail: '/images/cases/aerospace.jpg'
                    }
                ];

                console.log('案例数据加载完成:', contentData.cases.length, '个案例');
            } catch (error) {
                console.error('加载案例数据失败:', error);
            }
        }

        // 备用数据（当加载失败时使用）
        function loadFallbackData() {
            console.log('使用备用数据...');
            contentData = {
            news: [
                {
                    id: 'news001',
                    title: '视觉检测技术新突破',
                    summary: '最新的AI视觉检测技术在工业领域取得重大进展',
                    category: '技术资讯',
                    status: 'published',
                    publishDate: '2024-01-15',
                    author: '技术部',
                    views: 1250,
                    thumbnail: '/images/news/tech-breakthrough.jpg'
                },
                {
                    id: 'news002',
                    title: '公司参展工业博览会',
                    summary: '维森公司将参加2024年国际工业自动化博览会',
                    category: '公司新闻',
                    status: 'published',
                    publishDate: '2024-01-12',
                    author: '市场部',
                    views: 890,
                    thumbnail: '/images/news/exhibition.jpg'
                },
                {
                    id: 'news003',
                    title: '新产品发布预告',
                    summary: '下一代内窥镜产品即将发布，敬请期待',
                    category: '产品发布',
                    status: 'draft',
                    publishDate: '2024-01-20',
                    author: '产品部',
                    views: 0,
                    thumbnail: '/images/news/product-preview.jpg'
                }
            ],
            products: [
                {
                    id: 'prod001',
                    title: '工业内窥镜 VIS-E100',
                    model: 'VIS-E100',
                    series: 'E系列',
                    supplier: '维森科技',
                    category: '内窥镜',
                    status: 'published',
                    price: '¥25,000',
                    stock: 50,
                    publishDate: '2024-01-10',
                    thumbnail: '/images/products/vis-e100.jpg'
                },
                {
                    id: 'prod002',
                    title: '便携式检测相机 VIS-C200',
                    model: 'VIS-C200',
                    series: 'C系列',
                    supplier: '维森科技',
                    category: '检测相机',
                    status: 'published',
                    price: '¥15,000',
                    stock: 30,
                    publishDate: '2024-01-08',
                    thumbnail: '/images/products/vis-c200.jpg'
                },
                {
                    id: 'prod003',
                    title: '智能检测系统 VIS-S300',
                    model: 'VIS-S300',
                    series: 'S系列',
                    supplier: '维森科技',
                    category: '检测系统',
                    status: 'draft',
                    price: '¥50,000',
                    stock: 10,
                    publishDate: '2024-01-18',
                    thumbnail: '/images/products/vis-s300.jpg'
                }
            ],
            cases: [
                {
                    id: 'case001',
                    title: '汽车制造业质量检测案例',
                    industry: '汽车制造',
                    application: '质量检测',
                    client: '某知名汽车厂',
                    status: 'published',
                    publishDate: '2024-01-14',
                    duration: '3个月',
                    result: '检测效率提升60%',
                    thumbnail: '/images/cases/automotive.jpg'
                },
                {
                    id: 'case002',
                    title: '航空发动机叶片检测',
                    industry: '航空航天',
                    application: '叶片检测',
                    client: '航空发动机公司',
                    status: 'published',
                    publishDate: '2024-01-11',
                    duration: '6个月',
                    result: '零缺陷检测率',
                    thumbnail: '/images/cases/aerospace.jpg'
                },
                {
                    id: 'case003',
                    title: '风电齿轮箱检测项目',
                    industry: '新能源',
                    application: '齿轮箱检测',
                    client: '风电设备制造商',
                    status: 'draft',
                    publishDate: '2024-01-16',
                    duration: '4个月',
                    result: '维护成本降低40%',
                    thumbnail: '/images/cases/wind-power.jpg'
                }
            ]
        };

        // 初始化
        document.addEventListener('DOMContentLoaded', async function() {
            await initializeContentManager();
        });

        async function initializeContentManager() {
            console.log('初始化内容管理中心...');

            // 初始化数据加载器
            if (typeof ContentDataLoader !== 'undefined') {
                window.contentDataLoader = new ContentDataLoader();
                await window.contentDataLoader.loadAllData();
                // 更新本地contentData变量以保持兼容性
                contentData = window.contentDataLoader.contentData;
                console.log('外部数据加载器初始化完成');
                console.log('加载的数据:', {
                    products: contentData.products?.length || 0,
                    news: contentData.news?.length || 0,
                    cases: contentData.cases?.length || 0
                });
            } else {
                // 如果外部数据加载器不可用，使用内置数据
                await loadContentData();
                // 创建兼容的数据结构
                window.contentDataLoader = {
                    contentData: contentData
                };
                console.log('使用内置数据加载器');
            }

            // 初始化GitHub配置
            if (typeof initGitHubConfig === 'function') {
                initGitHubConfig();
            }

            // 强制确保数据加载器已初始化
            await forceEnsureDataLoader();

            // 确保数据同步
            ensureDataSync();

            // 更新统计数据
            updateStatistics();

            // 延迟再次更新统计数据，确保数据已完全加载
            setTimeout(() => {
                updateStatistics();
            }, 1000);

            // 设置默认展开的侧边栏
            toggleSection('homepage');
            toggleSection('news');
            toggleSection('products');
            toggleSection('cases');

            console.log('内容管理中心初始化完成');
        }

        // 更新统计数据
        function updateStatistics() {
            try {
                // 使用全局数据加载器的数据
                const data = window.contentDataLoader?.contentData || contentData;

                console.log('更新统计数据:', {
                    hasDataLoader: !!window.contentDataLoader,
                    hasContentData: !!data,
                    newsCount: data.news?.length || 0,
                    productsCount: data.products?.length || 0,
                    casesCount: data.cases?.length || 0,
                    applicationsCount: data.applications?.length || 0
                });

                // 更新各个统计数字
                const newsCountEl = document.getElementById('newsCount');
                const productsCountEl = document.getElementById('productsCount');
                const casesCountEl = document.getElementById('casesCount');
                const imagesCountEl = document.getElementById('imagesCount');

                if (newsCountEl) newsCountEl.textContent = data.news?.length || 0;
                if (productsCountEl) productsCountEl.textContent = data.products?.length || 0;
                if (casesCountEl) casesCountEl.textContent = data.cases?.length || 0;
                if (imagesCountEl) imagesCountEl.textContent = data.applications?.length || 6; // 应用领域数量

                console.log('统计数据更新完成');
            } catch (error) {
                console.error('更新统计数据失败:', error);
            }
        }

        // 兼容性：创建 mockData 引用
        let mockData = contentData;

        // 强制确保数据加载器已初始化
        async function forceEnsureDataLoader() {
            console.log('强制检查数据加载器状态...');

            if (!window.contentDataLoader) {
                console.log('数据加载器不存在，开始创建...');

                if (typeof ContentDataLoader !== 'undefined') {
                    console.log('使用外部ContentDataLoader...');
                    window.contentDataLoader = new ContentDataLoader();
                    await window.contentDataLoader.loadAllData();
                    contentData = window.contentDataLoader.contentData;
                } else {
                    console.log('ContentDataLoader不可用，使用备用数据...');
                    // 创建备用数据
                    const backupData = {
                        products: [
                            {
                                id: 'backup-product-1',
                                title: '备用产品1 - WS-K08510超细工业电子内窥镜',
                                model: 'WS-K08510',
                                series: 'K系列',
                                status: 'published',
                                primary_category: '电子内窥镜',
                                thumbnail: '/images/products/K-series/K-main.jpg'
                            },
                            {
                                id: 'backup-product-2',
                                title: '备用产品2 - P1210工业内窥镜',
                                model: 'P1210',
                                series: 'P系列',
                                status: 'published',
                                primary_category: '电子内窥镜',
                                thumbnail: '/images/products/P-series/P-main.jpg'
                            }
                        ],
                        news: [],
                        cases: [],
                        categories: [],
                        suppliers: []
                    };

                    window.contentDataLoader = {
                        contentData: backupData
                    };
                    contentData = backupData;
                }
            } else if (!window.contentDataLoader.contentData || !window.contentDataLoader.contentData.products || window.contentDataLoader.contentData.products.length === 0) {
                console.log('数据加载器存在但数据为空，重新加载...');

                if (typeof window.contentDataLoader.loadAllData === 'function') {
                    await window.contentDataLoader.loadAllData();
                    contentData = window.contentDataLoader.contentData;
                } else {
                    console.log('无法重新加载，使用备用数据...');
                    // 使用备用数据
                    window.contentDataLoader.contentData = {
                        products: [
                            {
                                id: 'emergency-product',
                                title: '紧急备用产品',
                                model: 'EMERGENCY',
                                series: '备用系列',
                                status: 'published',
                                primary_category: '电子内窥镜',
                                thumbnail: '/images/placeholder.jpg'
                            }
                        ],
                        news: [],
                        cases: [],
                        categories: [],
                        suppliers: []
                    };
                    contentData = window.contentDataLoader.contentData;
                }
            }

            console.log('数据加载器状态检查完成:', {
                hasDataLoader: !!window.contentDataLoader,
                hasContentData: !!window.contentDataLoader?.contentData,
                productCount: window.contentDataLoader?.contentData?.products?.length || 0
            });
        }

        // 确保数据同步的函数
        function ensureDataSync() {
            if (window.contentDataLoader && window.contentDataLoader.contentData) {
                contentData = window.contentDataLoader.contentData;
                mockData = contentData;
                console.log('数据同步完成:', {
                    products: contentData.products?.length || 0,
                    news: contentData.news?.length || 0,
                    cases: contentData.cases?.length || 0
                });
                return true;
            }
            console.warn('数据同步失败: 数据加载器或数据不可用');
            return false;
        }

        // 切换侧边栏部分
        function toggleSection(sectionName) {
            const content = document.getElementById(sectionName + '-content');
            const icon = document.getElementById(sectionName + '-icon');
            const header = content.previousElementSibling;

            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                icon.className = 'fas fa-chevron-down';
                header.classList.remove('collapsed');
            } else {
                content.classList.add('collapsed');
                icon.className = 'fas fa-chevron-right';
                header.classList.add('collapsed');
            }
        }

        // 显示内容列表
        async function showContentList(type, title, subtitle) {
            console.log(`开始显示${title}列表...`);

            // 强制确保数据加载器已初始化
            await forceEnsureDataLoader();

            // 确保数据同步
            ensureDataSync();

            currentSection = type;
            // 使用全局数据加载器的数据
            const data = window.contentDataLoader?.contentData || contentData;
            currentData = data[type] || [];
            filteredData = [...currentData];

            console.log(`显示${title}列表，数据数量:`, currentData.length);
            console.log(`数据详情:`, {
                type,
                hasDataLoader: !!window.contentDataLoader,
                hasContentData: !!window.contentDataLoader?.contentData,
                dataKeys: Object.keys(data),
                currentDataLength: currentData.length,
                firstItem: currentData[0]
            });

            // 更新头部
            document.getElementById('contentTitle').textContent = title;
            document.getElementById('contentSubtitle').textContent = subtitle;

            // 更新操作按钮
            updateContentActions(type);

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染内容列表
            renderContentList(type);

            // 更新侧边栏活动状态
            updateSidebarActive();
        }

        // 更新内容操作按钮
        function updateContentActions(type) {
            const actions = document.getElementById('contentActions');
            const actionConfigs = {
                news: {
                    create: { text: '发布资讯', icon: 'fas fa-plus', class: 'btn-success', action: 'createNews()' },
                    import: { text: '批量导入', icon: 'fas fa-upload', class: 'btn-info', action: 'importNews()' },
                    export: { text: '导出数据', icon: 'fas fa-download', class: 'btn-outline-primary', action: 'exportNews()' }
                },
                products: {
                    create: { text: '添加产品', icon: 'fas fa-plus', class: 'btn-primary', action: 'createProduct()' },
                    categories: { text: '管理分类', icon: 'fas fa-tags', class: 'btn-outline-secondary', action: 'showProductCategories()' },
                    import: { text: '批量导入', icon: 'fas fa-upload', class: 'btn-info', action: 'importProducts()' }
                },
                cases: {
                    create: { text: '添加案例', icon: 'fas fa-plus', class: 'btn-warning', action: 'createCase()' },
                    industries: { text: '行业管理', icon: 'fas fa-industry', class: 'btn-outline-secondary', action: 'showCaseIndustries()' },
                    export: { text: '导出报告', icon: 'fas fa-file-pdf', class: 'btn-outline-danger', action: 'exportCases()' }
                }
            };

            const config = actionConfigs[type];
            if (!config) {
                actions.innerHTML = '';
                return;
            }

            actions.innerHTML = Object.values(config).map(btn =>
                `<button class="btn ${btn.class}" onclick="${btn.action}">
                    <i class="${btn.icon} me-2"></i>${btn.text}
                </button>`
            ).join('');
        }

        // 渲染内容列表
        function renderContentList(type) {
            const content = document.getElementById('dynamicContent');

            content.innerHTML = `
                <div class="content-list">
                    <div class="list-toolbar">
                        <div class="toolbar-left">
                            <select class="form-select form-select-sm" style="width: auto;" onchange="filterByStatus(this.value)">
                                <option value="">全部状态</option>
                                <option value="published">已发布</option>
                                <option value="draft">草稿</option>
                                <option value="archived">已归档</option>
                            </select>
                            <select class="form-select form-select-sm" style="width: auto;" onchange="filterByCategory(this.value)">
                                <option value="">全部分类</option>
                                ${getCategories(type).map(cat => `<option value="${cat}">${cat}</option>`).join('')}
                            </select>
                        </div>
                        <div class="toolbar-right">
                            <div class="search-box">
                                <input type="text" class="search-input" placeholder="搜索${getTypeName(type)}..."
                                       onkeyup="searchContent(this.value)">
                                <i class="fas fa-search search-icon"></i>
                            </div>
                            <select class="form-select form-select-sm" style="width: auto;" onchange="sortContent(this.value)">
                                <option value="publishDate">按日期排序</option>
                                <option value="title">按标题排序</option>
                                <option value="views">按浏览量排序</option>
                            </select>
                        </div>
                    </div>

                    <table class="content-table">
                        <thead>
                            <tr>
                                ${getTableHeaders(type)}
                            </tr>
                        </thead>
                        <tbody id="contentTableBody">
                            ${renderTableRows(type)}
                        </tbody>
                    </table>
                </div>
            `;
        }

        // 获取表格头部
        function getTableHeaders(type) {
            const headers = {
                news: `
                    <th>标题</th>
                    <th>分类</th>
                    <th>状态</th>
                    <th>发布日期</th>
                    <th>浏览量</th>
                    <th>操作</th>
                `,
                products: `
                    <th>产品名称</th>
                    <th>型号</th>
                    <th>系列</th>
                    <th>价格</th>
                    <th>库存</th>
                    <th>状态</th>
                    <th>操作</th>
                `,
                cases: `
                    <th>案例标题</th>
                    <th>行业</th>
                    <th>应用领域</th>
                    <th>客户</th>
                    <th>状态</th>
                    <th>发布日期</th>
                    <th>操作</th>
                `
            };
            return headers[type] || '';
        }

        // 渲染表格行
        function renderTableRows(type) {
            if (!filteredData || filteredData.length === 0) {
                return `
                    <tr>
                        <td colspan="7" class="text-center py-4">
                            <div class="empty-state">
                                <i class="fas fa-inbox text-muted fa-3x mb-3"></i>
                                <div class="empty-title">暂无${getTypeName(type)}数据</div>
                                <div class="empty-description">点击上方按钮添加新的${getTypeName(type)}</div>
                            </div>
                        </td>
                    </tr>
                `;
            }

            return filteredData.map(item => {
                if (!item) return '';

                try {
                switch(type) {
                    case 'news':
                        return `
                            <tr>
                                <td>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <img src="${item.thumbnail || '/images/placeholder.jpg'}" style="width: 40px; height: 30px; object-fit: cover; border-radius: 4px;" alt="">
                                        <div>
                                            <div style="font-weight: 500;">${item.title || '未命名资讯'}</div>
                                            <div style="font-size: 0.8rem; color: #6c757d;">${item.summary || ''}</div>
                                        </div>
                                    </div>
                                </td>
                                <td>${item.category || '未分类'}</td>
                                <td><span class="status-badge status-${item.status || 'published'}">${getStatusText(item.status || 'published')}</span></td>
                                <td>${item.publishDate || item.published || '-'}</td>
                                <td>${item.views || '0'}</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="action-btn view" onclick="viewItem('${type}', '${item.id}')" title="查看">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="action-btn edit" onclick="editItem('${type}', '${item.id}')" title="编辑">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="action-btn delete" onclick="deleteItem('${type}', '${item.id}')" title="删除">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        `;
                    case 'products':
                        return `
                            <tr>
                                <td>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <img src="${item.thumbnail || '/images/placeholder.jpg'}" style="width: 40px; height: 30px; object-fit: cover; border-radius: 4px;" alt="">
                                        <div>
                                            <div style="font-weight: 500;">${item.title || '未命名产品'}</div>
                                            <div style="font-size: 0.8rem; color: #6c757d;">${item.primary_category || item.category || '未分类'}</div>
                                        </div>
                                    </div>
                                </td>
                                <td>${item.model || '-'}</td>
                                <td>${item.series || '-'}</td>
                                <td style="font-weight: 600; color: #28a745;">${item.price || '询价'}</td>
                                <td>${item.stock || '-'}</td>
                                <td><span class="status-badge status-${item.status || 'published'}">${getStatusText(item.status || 'published')}</span></td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="action-btn view" onclick="viewItem('${type}', '${item.id}')" title="查看">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="action-btn edit" onclick="editItem('${type}', '${item.id}')" title="编辑">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="action-btn" onclick="duplicateItem('${type}', '${item.id}')" title="复制">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                        <button class="action-btn delete" onclick="deleteItem('${type}', '${item.id}')" title="删除">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        `;
                    case 'cases':
                        return `
                            <tr>
                                <td>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <img src="${item.thumbnail || '/images/placeholder.jpg'}" style="width: 40px; height: 30px; object-fit: cover; border-radius: 4px;" alt="">
                                        <div>
                                            <div style="font-weight: 500;">${item.title || '未命名案例'}</div>
                                            <div style="font-size: 0.8rem; color: #6c757d;">${item.result || item.summary || ''}</div>
                                        </div>
                                    </div>
                                </td>
                                <td>${item.industry || '未分类'}</td>
                                <td>${item.application || '-'}</td>
                                <td>${item.client || '-'}</td>
                                <td><span class="status-badge status-${item.status || 'published'}">${getStatusText(item.status || 'published')}</span></td>
                                <td>${item.publishDate || item.published || '-'}</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="action-btn view" onclick="viewItem('${type}', '${item.id}')" title="查看">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="action-btn edit" onclick="editItem('${type}', '${item.id}')" title="编辑">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="action-btn delete" onclick="deleteItem('${type}', '${item.id}')" title="删除">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        `;
                    default:
                        return '';
                }
                } catch (error) {
                    console.error('渲染表格行时出错:', error, item);
                    return `
                        <tr>
                            <td colspan="7" class="text-center py-2 text-danger">
                                <small>数据渲染错误: ${item.id || '未知ID'}</small>
                            </td>
                        </tr>
                    `;
                }
            }).join('');
        }

        // 工具函数
        function getTypeName(type) {
            const names = { news: '资讯', products: '产品', cases: '案例' };
            return names[type] || type;
        }

        function getStatusText(status) {
            const statusMap = {
                published: '已发布',
                draft: '草稿',
                archived: '已归档'
            };
            return statusMap[status] || status;
        }

        function getCategories(type) {
            const categories = {
                news: ['技术资讯', '公司新闻', '产品发布', '行业动态'],
                products: ['内窥镜', '检测相机', '检测系统', '配件'],
                cases: ['汽车制造', '航空航天', '新能源', '电子制造']
            };
            return categories[type] || [];
        }

        // 过滤和搜索功能
        function filterByStatus(status) {
            filteredData = status ? currentData.filter(item => item.status === status) : [...currentData];
            updateTableBody();
        }

        function filterByCategory(category) {
            filteredData = category ? currentData.filter(item =>
                item.category === category || item.industry === category
            ) : [...currentData];
            updateTableBody();
        }

        function searchContent(query) {
            if (!query.trim()) {
                filteredData = [...currentData];
            } else {
                filteredData = currentData.filter(item =>
                    item.title.toLowerCase().includes(query.toLowerCase()) ||
                    (item.summary && item.summary.toLowerCase().includes(query.toLowerCase()))
                );
            }
            updateTableBody();
        }

        function sortContent(field) {
            filteredData.sort((a, b) => {
                if (field === 'publishDate') {
                    return new Date(b[field]) - new Date(a[field]);
                } else if (field === 'views') {
                    return (b[field] || 0) - (a[field] || 0);
                } else {
                    return a[field].localeCompare(b[field]);
                }
            });
            updateTableBody();
        }

        function updateTableBody() {
            const tbody = document.getElementById('contentTableBody');
            if (tbody) {
                tbody.innerHTML = renderTableRows(currentSection);
            }
        }

        // 更新侧边栏活动状态
        function updateSidebarActive() {
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.classList.remove('active');
            });
        }

        // 首页内容管理
        function showHomepageContent() {
            currentSection = 'homepage';

            // 更新头部
            document.getElementById('contentTitle').textContent = '首页内容管理';
            document.getElementById('contentSubtitle').textContent = '管理首页各个版块的内容，包括轮播图、推荐产品、公司介绍等';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="editHomepageContent()">
                    <i class="fas fa-edit me-2"></i>编辑首页内容
                </button>
                <button class="btn btn-success" onclick="previewHomepage()">
                    <i class="fas fa-eye me-2"></i>预览首页
                </button>
                <button class="btn btn-info" onclick="backupHomepage()">
                    <i class="fas fa-save me-2"></i>备份当前版本
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染首页内容管理界面
            renderHomepageManager();
        }

        function renderHomepageManager() {
            const content = document.getElementById('dynamicContent');

            content.innerHTML = `
                <div class="row">
                    <!-- 轮播图管理 -->
                    <div class="col-md-6">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-images text-primary"></i>
                                轮播图管理
                            </div>
                            <div id="bannerList">
                                ${renderBannerList()}
                            </div>
                            <div class="text-center mt-3">
                                <button class="btn btn-outline-primary btn-sm" onclick="addBanner()">
                                    <i class="fas fa-plus me-1"></i>添加轮播图
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 推荐产品管理 -->
                    <div class="col-md-6">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-star text-warning"></i>
                                推荐产品管理
                            </div>
                            <div id="featuredProductsList">
                                ${renderFeaturedProducts()}
                            </div>
                            <div class="text-center mt-3">
                                <button class="btn btn-outline-warning btn-sm" onclick="manageFeaturedProducts()">
                                    <i class="fas fa-cog me-1"></i>管理推荐产品
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <!-- 公司介绍 -->
                    <div class="col-md-6">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-building text-info"></i>
                                公司介绍
                            </div>
                            <div class="homepage-item" onclick="editCompanyIntro()">
                                <div class="item-header">
                                    <div class="item-title">公司简介</div>
                                    <div class="item-actions">
                                        <button class="action-btn edit">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="item-description">
                                    维森视觉检测仪器专业从事工业视觉检测设备的研发、生产和销售...
                                </div>
                                <div class="item-meta">
                                    <span>最后更新: 2024-01-15</span>
                                    <span>字数: 256</span>
                                </div>
                            </div>

                            <div class="homepage-item" onclick="editCompanyValues()">
                                <div class="item-header">
                                    <div class="item-title">企业价值观</div>
                                    <div class="item-actions">
                                        <button class="action-btn edit">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="item-description">
                                    专业、创新、品质、服务 - 我们的核心价值观
                                </div>
                                <div class="item-meta">
                                    <span>最后更新: 2024-01-10</span>
                                    <span>字数: 128</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 联系信息 -->
                    <div class="col-md-6">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-phone text-success"></i>
                                联系信息
                            </div>
                            <div class="homepage-item" onclick="editContactInfo()">
                                <div class="item-header">
                                    <div class="item-title">联系方式</div>
                                    <div class="item-actions">
                                        <button class="action-btn edit">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="item-description">
                                    电话、邮箱、地址等联系信息
                                </div>
                                <div class="item-meta">
                                    <span>最后更新: 2024-01-12</span>
                                    <span>包含: 电话、邮箱、地址</span>
                                </div>
                            </div>

                            <div class="homepage-item" onclick="editBusinessHours()">
                                <div class="item-header">
                                    <div class="item-title">营业时间</div>
                                    <div class="item-actions">
                                        <button class="action-btn edit">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="item-description">
                                    工作日: 9:00-18:00, 周末: 预约服务
                                </div>
                                <div class="item-meta">
                                    <span>最后更新: 2024-01-08</span>
                                    <span>状态: 正常营业</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <!-- SEO设置 -->
                    <div class="col-md-12">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-search text-danger"></i>
                                SEO设置
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="homepage-item" onclick="editSEOTitle()">
                                        <div class="item-header">
                                            <div class="item-title">页面标题</div>
                                            <div class="item-actions">
                                                <button class="action-btn edit">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="item-description">
                                            维森视觉检测仪器 - 专业工业检测设备
                                        </div>
                                        <div class="item-meta">
                                            <span>长度: 18字符</span>
                                            <span>状态: 优化良好</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="homepage-item" onclick="editSEODescription()">
                                        <div class="item-header">
                                            <div class="item-title">页面描述</div>
                                            <div class="item-actions">
                                                <button class="action-btn edit">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="item-description">
                                            专业的视觉检测设备信息与资讯发布平台...
                                        </div>
                                        <div class="item-meta">
                                            <span>长度: 156字符</span>
                                            <span>状态: 需要优化</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="homepage-item" onclick="editSEOKeywords()">
                                        <div class="item-header">
                                            <div class="item-title">关键词</div>
                                            <div class="item-actions">
                                                <button class="action-btn edit">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="item-description">
                                            视觉检测,工业检测,内窥镜,检测设备
                                        </div>
                                        <div class="item-meta">
                                            <span>数量: 4个关键词</span>
                                            <span>状态: 合理</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderBannerList() {
            const banners = [
                {
                    id: 'banner1',
                    title: '专业视觉检测设备',
                    image: '/images/banner/banner-1.jpg',
                    link: '/products/',
                    order: 1,
                    status: 'active'
                },
                {
                    id: 'banner2',
                    title: '工业4.0解决方案',
                    image: '/images/banner/banner-2.jpg',
                    link: '/cases/',
                    order: 2,
                    status: 'active'
                },
                {
                    id: 'banner3',
                    title: '技术创新引领未来',
                    image: '/images/banner/banner-3.jpg',
                    link: '/news/',
                    order: 3,
                    status: 'inactive'
                }
            ];

            return banners.map(banner => `
                <div class="homepage-item">
                    <div class="item-header">
                        <div class="item-title">${banner.title}</div>
                        <div class="item-actions">
                            <button class="action-btn edit" onclick="editBanner('${banner.id}')" title="编辑">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn ${banner.status === 'active' ? 'view' : ''}"
                                    onclick="toggleBannerStatus('${banner.id}')"
                                    title="${banner.status === 'active' ? '禁用' : '启用'}">
                                <i class="fas fa-${banner.status === 'active' ? 'eye' : 'eye-slash'}"></i>
                            </button>
                            <button class="action-btn delete" onclick="deleteBanner('${banner.id}')" title="删除">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="item-description">
                        链接: ${banner.link} | 排序: ${banner.order}
                    </div>
                    <div class="item-meta">
                        <span>状态: ${banner.status === 'active' ? '启用' : '禁用'}</span>
                        <span>图片: ${banner.image}</span>
                    </div>
                </div>
            `).join('');
        }

        function renderFeaturedProducts() {
            const featured = [
                { id: 'prod001', title: '工业内窥镜 VIS-E100', category: '内窥镜' },
                { id: 'prod002', title: '便携式检测相机 VIS-C200', category: '检测相机' },
                { id: 'prod003', title: '智能检测系统 VIS-S300', category: '检测系统' }
            ];

            return featured.map(product => `
                <div class="homepage-item">
                    <div class="item-header">
                        <div class="item-title">${product.title}</div>
                        <div class="item-actions">
                            <button class="action-btn view" onclick="viewProduct('${product.id}')" title="查看">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn delete" onclick="removeFeaturedProduct('${product.id}')" title="移除">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <div class="item-description">
                        分类: ${product.category}
                    </div>
                </div>
            `).join('');
        }

        // 侧边栏导航函数
        function showHomepageManager() {
            showHomepageContent();
        }

        async function showNewsList() {
            console.log('点击资讯列表，开始加载...');
            try {
                await showContentList('news', '资讯管理', '管理网站资讯内容，包括新闻、技术文章等');
            } catch (error) {
                console.error('显示资讯列表失败:', error);
                showNotification('资讯列表加载失败: ' + error.message, 'danger');
            }
        }

        async function showProductsList() {
            console.log('点击产品列表，开始加载...');
            try {
                await showContentList('products', '产品管理', '管理产品信息，包括产品详情、技术参数等');
            } catch (error) {
                console.error('显示产品列表失败:', error);
                showNotification('产品列表加载失败: ' + error.message, 'danger');
            }
        }

        async function showCasesList() {
            console.log('点击案例列表，开始加载...');
            try {
                await showContentList('cases', '案例管理', '管理成功案例，展示项目经验和实施效果');
            } catch (error) {
                console.error('显示案例列表失败:', error);
                showNotification('案例列表加载失败: ' + error.message, 'danger');
            }
        }

        // 内容操作函数
        function createNews() {
            window.open('content-wizard.html?type=news', 'contentWizard',
                'width=1400,height=900,scrollbars=yes,resizable=yes');
        }

        function createProduct() {
            window.open('content-wizard.html?type=product', 'contentWizard',
                'width=1400,height=900,scrollbars=yes,resizable=yes');
        }

        function createCase() {
            window.open('content-wizard.html?type=case', 'contentWizard',
                'width=1400,height=900,scrollbars=yes,resizable=yes');
        }

        function viewItem(type, id) {
            const item = contentData[type].find(item => item.id === id);
            if (item) {
                showNotification(`查看${getTypeName(type)}: ${item.title}`, 'info');
                // 这里可以打开详情页面或模态框
            }
        }

        function editItem(type, id) {
            const item = contentData[type].find(item => item.id === id);
            if (item) {
                // 打开编辑器编辑内容
                window.open(`local-cms.html?type=${type}&id=${id}`, 'editor',
                    'width=1200,height=800,scrollbars=yes,resizable=yes');
            }
        }

        function deleteItem(type, id) {
            const item = contentData[type].find(item => item.id === id);
            if (item && confirm(`确定要删除${getTypeName(type)} "${item.title}" 吗？`)) {
                const index = contentData[type].findIndex(item => item.id === id);
                if (index > -1) {
                    contentData[type].splice(index, 1);
                    currentData = contentData[type];
                    filteredData = [...currentData];
                    updateTableBody();
                    updateStatistics();
                    showNotification(`${getTypeName(type)} "${item.title}" 已删除`, 'success');
                }
            }
        }

        function duplicateItem(type, id) {
            const item = contentData[type].find(item => item.id === id);
            if (item) {
                const newItem = {
                    ...item,
                    id: type + Date.now(),
                    title: item.title + ' (副本)',
                    status: 'draft'
                };
                contentData[type].unshift(newItem);
                currentData = contentData[type];
                filteredData = [...currentData];
                updateTableBody();
                updateStatistics();
                showNotification(`${getTypeName(type)} "${item.title}" 已复制`, 'success');
            }
        }

        // 资讯管理功能
        function showNewsCategories() {
            currentSection = 'news-categories';

            // 更新头部
            document.getElementById('contentTitle').textContent = '资讯分类管理';
            document.getElementById('contentSubtitle').textContent = '管理资讯分类，包括技术资讯、公司新闻等';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="createNewsCategory()">
                    <i class="fas fa-plus me-2"></i>添加分类
                </button>
                <button class="btn btn-outline-secondary" onclick="refreshNewsCategories()">
                    <i class="fas fa-sync me-2"></i>刷新数据
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染分类管理界面
            renderNewsCategoriesManager();
        }

        function showNewsDrafts() {
            showNewsList();
            setTimeout(() => {
                filterByStatus('draft');
                showNotification('显示草稿资讯', 'info');
            }, 100);
        }

        // 产品管理功能 - 使用之前实现的函数
        function showProductCategories() {
            // 调用之前实现的产品分类管理函数
            currentSection = 'categories';
            currentData = contentData.categories || [];
            filteredData = [...currentData];

            // 更新头部
            document.getElementById('contentTitle').textContent = '产品分类管理';
            document.getElementById('contentSubtitle').textContent = '管理产品分类体系，包括主分类和子分类';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="createCategory()">
                    <i class="fas fa-plus me-2"></i>添加分类
                </button>
                <button class="btn btn-outline-secondary" onclick="refreshCategories()">
                    <i class="fas fa-sync me-2"></i>刷新数据
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染分类列表
            renderCategoriesList();
        }

        function showProductSeries() {
            // 调用之前实现的产品系列管理函数
            currentSection = 'series';

            // 从产品数据中提取系列信息
            const seriesSet = new Set();
            contentData.products.forEach(product => {
                if (product.series) {
                    seriesSet.add(product.series);
                }
            });

            currentData = Array.from(seriesSet).map(series => ({
                id: series.toLowerCase().replace(/\s+/g, '-'),
                title: series,
                productCount: contentData.products.filter(p => p.series === series).length,
                status: 'active'
            }));
            filteredData = [...currentData];

            // 更新头部
            document.getElementById('contentTitle').textContent = '产品系列管理';
            document.getElementById('contentSubtitle').textContent = '管理产品系列分组，查看各系列产品统计';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="createSeries()">
                    <i class="fas fa-plus me-2"></i>添加系列
                </button>
                <button class="btn btn-outline-secondary" onclick="refreshSeries()">
                    <i class="fas fa-sync me-2"></i>刷新数据
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染系列列表
            renderSeriesList();
        }

        function showSuppliers() {
            // 调用之前实现的供应商管理函数
            currentSection = 'suppliers';
            currentData = contentData.suppliers || [];
            filteredData = [...currentData];

            // 更新头部
            document.getElementById('contentTitle').textContent = '供应商管理';
            document.getElementById('contentSubtitle').textContent = '管理供应商信息，包括联系方式和产品系列';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="createSupplier()">
                    <i class="fas fa-plus me-2"></i>添加供应商
                </button>
                <button class="btn btn-outline-secondary" onclick="refreshSuppliers()">
                    <i class="fas fa-sync me-2"></i>刷新数据
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染供应商列表
            renderSuppliersList();
        }

        // 渲染资讯分类管理界面
        function renderNewsCategoriesManager() {
            const content = document.getElementById('dynamicContent');
            const newsCategories = ['技术资讯', '公司新闻', '产品发布', '行业动态'];

            content.innerHTML = `
                <div class="content-list">
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>分类名称</th>
                                <th>文章数量</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${newsCategories.map(category => `
                                <tr>
                                    <td>
                                        <div style="font-weight: 500;">${category}</div>
                                    </td>
                                    <td>${contentData.news.filter(n => n.category === category).length}</td>
                                    <td><span class="status-badge status-active">启用</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="action-btn edit" onclick="editNewsCategory('${category}')" title="编辑">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="action-btn delete" onclick="deleteNewsCategory('${category}')" title="删除">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        // 渲染行业列表
        function renderIndustriesList() {
            const content = document.getElementById('dynamicContent');
            content.innerHTML = `
                <div class="content-list">
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>行业名称</th>
                                <th>案例数量</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${filteredData.map(industry => `
                                <tr>
                                    <td>
                                        <div style="font-weight: 500;">${industry.title}</div>
                                    </td>
                                    <td>${industry.caseCount}</td>
                                    <td><span class="status-badge status-${industry.status}">启用</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="action-btn view" onclick="viewIndustryCases('${industry.title}')" title="查看案例">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="action-btn edit" onclick="editIndustry('${industry.id}')" title="编辑">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        // 渲染应用领域列表
        function renderApplicationsList() {
            const content = document.getElementById('dynamicContent');
            content.innerHTML = `
                <div class="content-list">
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>应用领域</th>
                                <th>案例数量</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${filteredData.map(application => `
                                <tr>
                                    <td>
                                        <div style="font-weight: 500;">${application.title}</div>
                                    </td>
                                    <td>${application.caseCount}</td>
                                    <td><span class="status-badge status-${application.status}">启用</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="action-btn view" onclick="viewApplicationCases('${application.title}')" title="查看案例">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="action-btn edit" onclick="editApplication('${application.id}')" title="编辑">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        // 渲染页面编辑器
        function renderPageEditor(pageType, pageTitle) {
            const content = document.getElementById('dynamicContent');
            content.innerHTML = `
                <div class="row">
                    <div class="col-md-8">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-edit text-primary"></i>
                                ${pageTitle}页面内容
                            </div>
                            <div class="page-editor">
                                <div class="form-group mb-3">
                                    <label class="form-label">页面标题</label>
                                    <input type="text" class="form-control" value="${pageTitle}" id="pageTitle">
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">页面描述</label>
                                    <textarea class="form-control" rows="3" id="pageDescription">这里是${pageTitle}页面的描述内容...</textarea>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">页面内容</label>
                                    <textarea class="form-control" rows="10" id="pageContent">这里是${pageTitle}页面的主要内容...</textarea>
                                </div>
                                <div class="form-group">
                                    <button class="btn btn-primary" onclick="savePageContent('${pageType}')">
                                        <i class="fas fa-save me-2"></i>保存内容
                                    </button>
                                    <button class="btn btn-outline-secondary ms-2" onclick="resetPageContent('${pageType}')">
                                        <i class="fas fa-undo me-2"></i>重置内容
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-cog text-secondary"></i>
                                页面设置
                            </div>
                            <div class="page-settings">
                                <div class="form-group mb-3">
                                    <label class="form-label">页面状态</label>
                                    <select class="form-select" id="pageStatus">
                                        <option value="published">已发布</option>
                                        <option value="draft">草稿</option>
                                        <option value="private">私有</option>
                                    </select>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">SEO标题</label>
                                    <input type="text" class="form-control" id="seoTitle" value="${pageTitle} - VisNDT">
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">SEO描述</label>
                                    <textarea class="form-control" rows="3" id="seoDescription">${pageTitle}相关信息和服务...</textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">最后更新</label>
                                    <input type="text" class="form-control" value="${new Date().toLocaleDateString()}" readonly>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // 案例管理功能
        function showCaseIndustries() {
            currentSection = 'case-industries';

            // 从案例数据中提取行业信息
            const industriesSet = new Set();
            contentData.cases.forEach(caseItem => {
                if (caseItem.industry) {
                    industriesSet.add(caseItem.industry);
                }
            });

            currentData = Array.from(industriesSet).map(industry => ({
                id: industry.toLowerCase().replace(/\s+/g, '-'),
                title: industry,
                caseCount: contentData.cases.filter(c => c.industry === industry).length,
                status: 'active'
            }));
            filteredData = [...currentData];

            // 更新头部
            document.getElementById('contentTitle').textContent = '行业分类管理';
            document.getElementById('contentSubtitle').textContent = '管理案例行业分类，查看各行业案例统计';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="createIndustry()">
                    <i class="fas fa-plus me-2"></i>添加行业
                </button>
                <button class="btn btn-outline-secondary" onclick="refreshIndustries()">
                    <i class="fas fa-sync me-2"></i>刷新数据
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染行业列表
            renderIndustriesList();
        }

        function showCaseApplications() {
            currentSection = 'case-applications';

            // 从案例数据中提取应用领域信息
            const applicationsSet = new Set();
            contentData.cases.forEach(caseItem => {
                if (caseItem.application) {
                    applicationsSet.add(caseItem.application);
                }
            });

            currentData = Array.from(applicationsSet).map(application => ({
                id: application.toLowerCase().replace(/\s+/g, '-'),
                title: application,
                caseCount: contentData.cases.filter(c => c.application === application).length,
                status: 'active'
            }));
            filteredData = [...currentData];

            // 更新头部
            document.getElementById('contentTitle').textContent = '应用领域管理';
            document.getElementById('contentSubtitle').textContent = '管理案例应用领域，查看各领域案例统计';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="createApplication()">
                    <i class="fas fa-plus me-2"></i>添加应用领域
                </button>
                <button class="btn btn-outline-secondary" onclick="refreshApplications()">
                    <i class="fas fa-sync me-2"></i>刷新数据
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染应用领域列表
            renderApplicationsList();
        }

        function importNews() {
            showNotification('批量导入功能开发中', 'info');
        }

        function exportNews() {
            showNotification('数据导出功能开发中', 'info');
        }

        function importProducts() {
            showNotification('批量导入功能开发中', 'info');
        }

        function exportCases() {
            showNotification('报告导出功能开发中', 'info');
        }

        // 页面管理功能
        function editBusinessPage() {
            currentSection = 'business-page';

            // 更新头部
            document.getElementById('contentTitle').textContent = '商务服务页面';
            document.getElementById('contentSubtitle').textContent = '编辑商务服务页面内容，包括服务介绍、合作流程等';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="editPageContent('business')">
                    <i class="fas fa-edit me-2"></i>编辑页面内容
                </button>
                <button class="btn btn-success" onclick="previewPage('business')">
                    <i class="fas fa-eye me-2"></i>预览页面
                </button>
                <button class="btn btn-info" onclick="backupPage('business')">
                    <i class="fas fa-save me-2"></i>备份页面
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染页面编辑界面
            renderPageEditor('business', '商务服务');
        }

        function editApplicationsPage() {
            currentSection = 'applications-page';

            // 更新头部
            document.getElementById('contentTitle').textContent = '应用领域页面';
            document.getElementById('contentSubtitle').textContent = '编辑应用领域页面内容，包括行业应用、技术方案等';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="editPageContent('applications')">
                    <i class="fas fa-edit me-2"></i>编辑页面内容
                </button>
                <button class="btn btn-success" onclick="previewPage('applications')">
                    <i class="fas fa-eye me-2"></i>预览页面
                </button>
                <button class="btn btn-info" onclick="backupPage('applications')">
                    <i class="fas fa-save me-2"></i>备份页面
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染页面编辑界面
            renderPageEditor('applications', '应用领域');
        }

        function editAboutPage() {
            currentSection = 'about-page';

            // 更新头部
            document.getElementById('contentTitle').textContent = '关于我们页面';
            document.getElementById('contentSubtitle').textContent = '编辑关于我们页面内容，包括公司介绍、发展历程等';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="editPageContent('about')">
                    <i class="fas fa-edit me-2"></i>编辑页面内容
                </button>
                <button class="btn btn-success" onclick="previewPage('about')">
                    <i class="fas fa-eye me-2"></i>预览页面
                </button>
                <button class="btn btn-info" onclick="backupPage('about')">
                    <i class="fas fa-save me-2"></i>备份页面
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染页面编辑界面
            renderPageEditor('about', '关于我们');
        }

        function editContactPage() {
            currentSection = 'contact-page';

            // 更新头部
            document.getElementById('contentTitle').textContent = '联系我们页面';
            document.getElementById('contentSubtitle').textContent = '编辑联系我们页面内容，包括联系方式、地址信息等';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="editPageContent('contact')">
                    <i class="fas fa-edit me-2"></i>编辑页面内容
                </button>
                <button class="btn btn-success" onclick="previewPage('contact')">
                    <i class="fas fa-eye me-2"></i>预览页面
                </button>
                <button class="btn btn-info" onclick="backupPage('contact')">
                    <i class="fas fa-save me-2"></i>备份页面
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染页面编辑界面
            renderPageEditor('contact', '联系我们');
        }

        // 系统设置功能
        function showSiteSettings() {
            currentSection = 'site-settings';

            // 更新头部
            document.getElementById('contentTitle').textContent = '网站设置';
            document.getElementById('contentSubtitle').textContent = '管理网站基本设置，包括站点信息、主题配置等';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="saveSiteSettings()">
                    <i class="fas fa-save me-2"></i>保存设置
                </button>
                <button class="btn btn-outline-secondary" onclick="resetSiteSettings()">
                    <i class="fas fa-undo me-2"></i>重置设置
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染设置界面
            renderSiteSettings();
        }

        function showSEOSettings() {
            currentSection = 'seo-settings';

            // 更新头部
            document.getElementById('contentTitle').textContent = 'SEO设置';
            document.getElementById('contentSubtitle').textContent = '管理搜索引擎优化设置，包括标题、描述、关键词等';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-primary" onclick="saveSEOSettings()">
                    <i class="fas fa-save me-2"></i>保存设置
                </button>
                <button class="btn btn-outline-secondary" onclick="resetSEOSettings()">
                    <i class="fas fa-undo me-2"></i>重置设置
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染SEO设置界面
            renderSEOSettings();
        }

        function showBackupRestore() {
            currentSection = 'backup-restore';

            // 更新头部
            document.getElementById('contentTitle').textContent = '备份恢复';
            document.getElementById('contentSubtitle').textContent = '管理网站数据备份和恢复，确保数据安全';

            // 更新操作按钮
            document.getElementById('contentActions').innerHTML = `
                <button class="btn btn-success" onclick="createBackup()">
                    <i class="fas fa-download me-2"></i>创建备份
                </button>
                <button class="btn btn-warning" onclick="restoreBackup()">
                    <i class="fas fa-upload me-2"></i>恢复备份
                </button>
                <button class="btn btn-outline-secondary" onclick="refreshBackups()">
                    <i class="fas fa-sync me-2"></i>刷新列表
                </button>
            `;

            // 隐藏欢迎页面，显示动态内容
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('dynamicContent').style.display = 'block';

            // 渲染备份恢复界面
            renderBackupRestore();
        }

        // 渲染分类列表
        function renderCategoriesList() {
            const content = document.getElementById('dynamicContent');
            content.innerHTML = `
                <div class="content-list">
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>分类名称</th>
                                <th>描述</th>
                                <th>父分类</th>
                                <th>产品数量</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${filteredData.map(category => `
                                <tr>
                                    <td>
                                        <div style="font-weight: 500;">${category.title}</div>
                                    </td>
                                    <td>${category.description || '-'}</td>
                                    <td>${category.parent ? contentData.categories.find(c => c.id === category.parent)?.title || '-' : '顶级分类'}</td>
                                    <td>${contentData.products.filter(p => p.primary_category === category.title || p.secondary_category === category.title).length}</td>
                                    <td><span class="status-badge status-active">启用</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="action-btn view" onclick="viewCategoryProducts('${category.title}')" title="查看产品">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="action-btn edit" onclick="editCategory('${category.id}')" title="编辑">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        // 渲染系列列表
        function renderSeriesList() {
            const content = document.getElementById('dynamicContent');
            content.innerHTML = `
                <div class="content-list">
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>系列名称</th>
                                <th>产品数量</th>
                                <th>供应商</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${filteredData.map(series => `
                                <tr>
                                    <td>
                                        <div style="font-weight: 500;">${series.title}</div>
                                    </td>
                                    <td>${series.productCount}</td>
                                    <td>${contentData.suppliers.find(s => s.series.includes(series.title))?.title || '-'}</td>
                                    <td><span class="status-badge status-${series.status}">启用</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="action-btn view" onclick="viewSeriesProducts('${series.title}')" title="查看产品">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="action-btn edit" onclick="editSeries('${series.id}')" title="编辑">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        // 渲染供应商列表
        function renderSuppliersList() {
            const content = document.getElementById('dynamicContent');
            content.innerHTML = `
                <div class="content-list">
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>供应商名称</th>
                                <th>联系人</th>
                                <th>电话</th>
                                <th>邮箱</th>
                                <th>产品系列</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${filteredData.map(supplier => `
                                <tr>
                                    <td>
                                        <div style="font-weight: 500;">${supplier.title}</div>
                                        <div style="font-size: 0.85em; color: #666;">${supplier.address}</div>
                                    </td>
                                    <td>
                                        <div>${supplier.contact_person}</div>
                                        <div style="font-size: 0.85em; color: #666;">${supplier.position}</div>
                                    </td>
                                    <td>${supplier.phone}</td>
                                    <td>${supplier.email}</td>
                                    <td>
                                        <div class="series-tags">
                                            ${supplier.series.map(s => `<span class="badge bg-secondary me-1">${s}</span>`).join('')}
                                        </div>
                                    </td>
                                    <td><span class="status-badge status-${supplier.status}">启用</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="action-btn view" onclick="viewSupplierProducts('${supplier.id}')" title="查看产品">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="action-btn edit" onclick="editSupplier('${supplier.id}')" title="编辑">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        // 渲染网站设置界面
        function renderSiteSettings() {
            const content = document.getElementById('dynamicContent');
            content.innerHTML = `
                <div class="row">
                    <div class="col-md-6">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-globe text-primary"></i>
                                基本设置
                            </div>
                            <div class="settings-form">
                                <div class="form-group mb-3">
                                    <label class="form-label">网站名称</label>
                                    <input type="text" class="form-control" value="VisNDT 视觉检测仪器" id="siteName">
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">网站描述</label>
                                    <textarea class="form-control" rows="3" id="siteDescription">专业的视觉检测设备信息与资讯发布平台</textarea>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">网站关键词</label>
                                    <input type="text" class="form-control" value="视觉检测,工业检测,内窥镜,检测设备" id="siteKeywords">
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">网站语言</label>
                                    <select class="form-select" id="siteLanguage">
                                        <option value="zh-CN">简体中文</option>
                                        <option value="en-US">English</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-palette text-warning"></i>
                                主题设置
                            </div>
                            <div class="settings-form">
                                <div class="form-group mb-3">
                                    <label class="form-label">主题色彩</label>
                                    <select class="form-select" id="themeColor">
                                        <option value="blue">蓝色主题</option>
                                        <option value="green">绿色主题</option>
                                        <option value="purple">紫色主题</option>
                                    </select>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">布局模式</label>
                                    <select class="form-select" id="layoutMode">
                                        <option value="wide">宽屏模式</option>
                                        <option value="boxed">盒式模式</option>
                                    </select>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">导航样式</label>
                                    <select class="form-select" id="navStyle">
                                        <option value="horizontal">水平导航</option>
                                        <option value="vertical">垂直导航</option>
                                    </select>
                                </div>
                                <div class="form-group mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="enableDarkMode">
                                        <label class="form-check-label" for="enableDarkMode">
                                            启用深色模式
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-12">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-cog text-info"></i>
                                高级设置
                            </div>
                            <div class="settings-form">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group mb-3">
                                            <label class="form-label">每页显示数量</label>
                                            <input type="number" class="form-control" value="12" id="itemsPerPage">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group mb-3">
                                            <label class="form-label">缓存时间(分钟)</label>
                                            <input type="number" class="form-control" value="60" id="cacheTime">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group mb-3">
                                            <label class="form-label">图片质量</label>
                                            <select class="form-select" id="imageQuality">
                                                <option value="high">高质量</option>
                                                <option value="medium">中等质量</option>
                                                <option value="low">低质量</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="enableComments" checked>
                                            <label class="form-check-label" for="enableComments">
                                                启用评论功能
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="enableSearch" checked>
                                            <label class="form-check-label" for="enableSearch">
                                                启用搜索功能
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // 渲染SEO设置界面
        function renderSEOSettings() {
            const content = document.getElementById('dynamicContent');
            content.innerHTML = `
                <div class="row">
                    <div class="col-md-8">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-search text-primary"></i>
                                SEO基本设置
                            </div>
                            <div class="settings-form">
                                <div class="form-group mb-3">
                                    <label class="form-label">网站标题</label>
                                    <input type="text" class="form-control" value="VisNDT 视觉检测仪器 - 专业工业检测设备" id="seoTitle">
                                    <small class="form-text text-muted">建议长度：50-60个字符</small>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">网站描述</label>
                                    <textarea class="form-control" rows="3" id="seoDescription">专业的视觉检测设备信息与资讯发布平台，提供工业内窥镜、检测相机等产品信息，为制造业提供优质的检测解决方案。</textarea>
                                    <small class="form-text text-muted">建议长度：150-160个字符</small>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">关键词</label>
                                    <input type="text" class="form-control" value="视觉检测,工业检测,内窥镜,检测设备,工业相机,质量检测" id="seoKeywords">
                                    <small class="form-text text-muted">用逗号分隔，建议3-5个核心关键词</small>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">网站作者</label>
                                    <input type="text" class="form-control" value="VisNDT Team" id="seoAuthor">
                                </div>
                            </div>
                        </div>

                        <div class="homepage-section mt-4">
                            <div class="section-title">
                                <i class="fas fa-share-alt text-success"></i>
                                社交媒体设置
                            </div>
                            <div class="settings-form">
                                <div class="form-group mb-3">
                                    <label class="form-label">Open Graph 标题</label>
                                    <input type="text" class="form-control" value="VisNDT 视觉检测仪器" id="ogTitle">
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">Open Graph 描述</label>
                                    <textarea class="form-control" rows="2" id="ogDescription">专业的视觉检测设备信息与资讯发布平台</textarea>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">Open Graph 图片</label>
                                    <input type="text" class="form-control" value="/images/og-image.jpg" id="ogImage">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-chart-line text-warning"></i>
                                SEO工具
                            </div>
                            <div class="seo-tools">
                                <div class="tool-item mb-3">
                                    <h6>Google Analytics</h6>
                                    <div class="form-group">
                                        <input type="text" class="form-control" placeholder="GA跟踪ID" id="gaTrackingId">
                                    </div>
                                </div>
                                <div class="tool-item mb-3">
                                    <h6>Google Search Console</h6>
                                    <div class="form-group">
                                        <input type="text" class="form-control" placeholder="验证代码" id="gscVerification">
                                    </div>
                                </div>
                                <div class="tool-item mb-3">
                                    <h6>百度统计</h6>
                                    <div class="form-group">
                                        <input type="text" class="form-control" placeholder="百度统计ID" id="baiduAnalytics">
                                    </div>
                                </div>
                                <div class="tool-item">
                                    <h6>站点地图</h6>
                                    <button class="btn btn-outline-primary btn-sm" onclick="generateSitemap()">
                                        <i class="fas fa-sitemap me-1"></i>生成站点地图
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // 渲染备份恢复界面
        function renderBackupRestore() {
            const content = document.getElementById('dynamicContent');
            content.innerHTML = `
                <div class="row">
                    <div class="col-md-6">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-download text-success"></i>
                                创建备份
                            </div>
                            <div class="backup-form">
                                <div class="form-group mb-3">
                                    <label class="form-label">备份名称</label>
                                    <input type="text" class="form-control" value="backup_${new Date().toISOString().split('T')[0]}" id="backupName">
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">备份内容</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="backupContent" checked>
                                        <label class="form-check-label" for="backupContent">
                                            网站内容 (文章、产品、案例)
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="backupSettings" checked>
                                        <label class="form-check-label" for="backupSettings">
                                            网站设置
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="backupMedia">
                                        <label class="form-check-label" for="backupMedia">
                                            媒体文件 (图片、文档)
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <button class="btn btn-success" onclick="startBackup()">
                                        <i class="fas fa-download me-2"></i>开始备份
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-upload text-warning"></i>
                                恢复备份
                            </div>
                            <div class="restore-form">
                                <div class="form-group mb-3">
                                    <label class="form-label">选择备份文件</label>
                                    <input type="file" class="form-control" accept=".zip,.json" id="restoreFile">
                                </div>
                                <div class="form-group mb-3">
                                    <div class="alert alert-warning">
                                        <i class="fas fa-exclamation-triangle me-2"></i>
                                        <strong>警告：</strong>恢复备份将覆盖当前数据，请确保已做好备份。
                                    </div>
                                </div>
                                <div class="form-group">
                                    <button class="btn btn-warning" onclick="startRestore()">
                                        <i class="fas fa-upload me-2"></i>开始恢复
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-12">
                        <div class="homepage-section">
                            <div class="section-title">
                                <i class="fas fa-history text-info"></i>
                                备份历史
                            </div>
                            <div class="backup-history">
                                <table class="content-table">
                                    <thead>
                                        <tr>
                                            <th>备份名称</th>
                                            <th>创建时间</th>
                                            <th>文件大小</th>
                                            <th>备份内容</th>
                                            <th>状态</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>backup_2024-01-15</td>
                                            <td>2024-01-15 10:30:00</td>
                                            <td>2.5 MB</td>
                                            <td>内容 + 设置</td>
                                            <td><span class="status-badge status-published">完成</span></td>
                                            <td>
                                                <div class="action-buttons">
                                                    <button class="action-btn view" onclick="downloadBackup('backup_2024-01-15')" title="下载">
                                                        <i class="fas fa-download"></i>
                                                    </button>
                                                    <button class="action-btn edit" onclick="restoreFromBackup('backup_2024-01-15')" title="恢复">
                                                        <i class="fas fa-undo"></i>
                                                    </button>
                                                    <button class="action-btn delete" onclick="deleteBackup('backup_2024-01-15')" title="删除">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>backup_2024-01-10</td>
                                            <td>2024-01-10 15:20:00</td>
                                            <td>2.1 MB</td>
                                            <td>内容</td>
                                            <td><span class="status-badge status-published">完成</span></td>
                                            <td>
                                                <div class="action-buttons">
                                                    <button class="action-btn view" onclick="downloadBackup('backup_2024-01-10')" title="下载">
                                                        <i class="fas fa-download"></i>
                                                    </button>
                                                    <button class="action-btn edit" onclick="restoreFromBackup('backup_2024-01-10')" title="恢复">
                                                        <i class="fas fa-undo"></i>
                                                    </button>
                                                    <button class="action-btn delete" onclick="deleteBackup('backup_2024-01-10')" title="删除">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // 首页管理相关函数
        function editHomepageContent() {
            window.open('local-cms.html?file=content/_index.md', 'editor',
                'width=1200,height=800,scrollbars=yes,resizable=yes');
        }

        function previewHomepage() {
            window.open('../', '_blank');
        }

        function backupHomepage() {
            showNotification('首页内容备份功能开发中', 'info');
        }

        function showBannerManager() {
            showHomepageContent();
            // 滚动到轮播图部分
            setTimeout(() => {
                document.getElementById('bannerList').scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        function showFeaturedProducts() {
            showHomepageContent();
            // 滚动到推荐产品部分
            setTimeout(() => {
                document.getElementById('featuredProductsList').scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        function showCompanyInfo() {
            showHomepageContent();
        }

        function addBanner() {
            const modal = createBannerModal();
            document.body.appendChild(modal);
            const bsModal = new bootstrap.Modal(modal);
            bsModal.show();
        }

        function editBanner(bannerId) {
            showNotification(`编辑轮播图: ${bannerId}`, 'info');
            // 这里可以打开编辑模态框
        }

        function toggleBannerStatus(bannerId) {
            showNotification(`切换轮播图状态: ${bannerId}`, 'info');
            // 重新渲染轮播图列表
            document.getElementById('bannerList').innerHTML = renderBannerList();
        }

        function deleteBanner(bannerId) {
            if (confirm('确定要删除这个轮播图吗？')) {
                showNotification(`轮播图 ${bannerId} 已删除`, 'success');
                // 重新渲染轮播图列表
                document.getElementById('bannerList').innerHTML = renderBannerList();
            }
        }

        function manageFeaturedProducts() {
            const modal = createFeaturedProductsModal();
            document.body.appendChild(modal);
            const bsModal = new bootstrap.Modal(modal);
            bsModal.show();
        }

        function removeFeaturedProduct(productId) {
            if (confirm('确定要从推荐产品中移除吗？')) {
                showNotification(`产品 ${productId} 已从推荐列表移除`, 'success');
                // 重新渲染推荐产品列表
                document.getElementById('featuredProductsList').innerHTML = renderFeaturedProducts();
            }
        }

        function editCompanyIntro() {
            openContentEditor('公司简介', '编辑公司简介内容');
        }

        function editCompanyValues() {
            openContentEditor('企业价值观', '编辑企业价值观内容');
        }

        function editContactInfo() {
            openContentEditor('联系信息', '编辑联系方式信息');
        }

        function editBusinessHours() {
            openContentEditor('营业时间', '编辑营业时间信息');
        }

        function editSEOTitle() {
            openSEOEditor('页面标题', 'title', '维森视觉检测仪器 - 专业工业检测设备');
        }

        function editSEODescription() {
            openSEOEditor('页面描述', 'description', '专业的视觉检测设备信息与资讯发布平台，提供工业内窥镜、检测相机等产品信息');
        }

        function editSEOKeywords() {
            openSEOEditor('关键词', 'keywords', '视觉检测,工业检测,内窥镜,检测设备');
        }

        function openContentEditor(title, description) {
            const modal = createContentEditorModal(title, description);
            document.body.appendChild(modal);
            const bsModal = new bootstrap.Modal(modal);
            bsModal.show();
        }

        function openSEOEditor(title, type, currentValue) {
            const modal = createSEOEditorModal(title, type, currentValue);
            document.body.appendChild(modal);
            const bsModal = new bootstrap.Modal(modal);
            bsModal.show();
        }

        // 创建模态框函数
        function createBannerModal() {
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.innerHTML = `
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">添加轮播图</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div class="mb-3">
                                    <label class="form-label">标题</label>
                                    <input type="text" class="form-control" placeholder="输入轮播图标题">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">图片</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="图片路径">
                                        <button class="btn btn-outline-secondary" type="button" onclick="selectBannerImage()">
                                            <i class="fas fa-images"></i> 选择图片
                                        </button>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">链接地址</label>
                                    <input type="text" class="form-control" placeholder="点击跳转的链接">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">排序</label>
                                    <input type="number" class="form-control" value="1" min="1">
                                </div>
                                <div class="mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" checked>
                                        <label class="form-check-label">启用显示</label>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                            <button type="button" class="btn btn-primary" onclick="saveBanner()">保存</button>
                        </div>
                    </div>
                </div>
            `;
            return modal;
        }

        function createFeaturedProductsModal() {
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.innerHTML = `
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">管理推荐产品</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>可选产品</h6>
                                    <div class="list-group" style="max-height: 300px; overflow-y: auto;">
                                        ${mockData.products.map(product => `
                                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                                <div>
                                                    <strong>${product.title}</strong><br>
                                                    <small class="text-muted">${product.category}</small>
                                                </div>
                                                <button class="btn btn-sm btn-outline-primary" onclick="addToFeatured('${product.id}')">
                                                    <i class="fas fa-plus"></i>
                                                </button>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>推荐产品 (最多6个)</h6>
                                    <div class="list-group" id="featuredList">
                                        <!-- 推荐产品列表 -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                            <button type="button" class="btn btn-primary" onclick="saveFeaturedProducts()">保存设置</button>
                        </div>
                    </div>
                </div>
            `;
            return modal;
        }

        function createContentEditorModal(title, description) {
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.innerHTML = `
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">编辑 ${title}</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <p class="text-muted">${description}</p>
                            <textarea class="form-control" rows="10" placeholder="在此输入内容..."></textarea>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                            <button type="button" class="btn btn-primary" onclick="saveContent()">保存</button>
                        </div>
                    </div>
                </div>
            `;
            return modal;
        }

        function createSEOEditorModal(title, type, currentValue) {
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.innerHTML = `
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">编辑 ${title}</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <label class="form-label">${title}</label>
                                <${type === 'description' ? 'textarea' : 'input'}
                                    class="form-control"
                                    ${type === 'description' ? 'rows="3"' : 'type="text"'}
                                    value="${currentValue}">${type === 'description' ? currentValue : ''}</${type === 'description' ? 'textarea' : 'input'}>
                                <div class="form-text">
                                    ${type === 'title' ? '建议长度: 50-60字符' :
                                      type === 'description' ? '建议长度: 150-160字符' :
                                      '多个关键词用逗号分隔'}
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                            <button type="button" class="btn btn-primary" onclick="saveSEO('${type}')">保存</button>
                        </div>
                    </div>
                </div>
            `;
            return modal;
        }

        // 模态框操作函数
        function selectBannerImage() {
            window.open('media-library.html', 'mediaLibrary',
                'width=1200,height=800,scrollbars=yes,resizable=yes');
        }

        function saveBanner() {
            showNotification('轮播图保存成功', 'success');
            // 关闭模态框并刷新列表
            bootstrap.Modal.getInstance(document.querySelector('.modal')).hide();
            document.getElementById('bannerList').innerHTML = renderBannerList();
        }

        function addToFeatured(productId) {
            showNotification(`产品 ${productId} 已添加到推荐列表`, 'success');
        }

        function saveFeaturedProducts() {
            showNotification('推荐产品设置已保存', 'success');
            bootstrap.Modal.getInstance(document.querySelector('.modal')).hide();
            document.getElementById('featuredProductsList').innerHTML = renderFeaturedProducts();
        }

        function saveContent() {
            showNotification('内容保存成功', 'success');
            bootstrap.Modal.getInstance(document.querySelector('.modal')).hide();
        }

        function saveSEO(type) {
            showNotification(`SEO ${type} 保存成功`, 'success');
            bootstrap.Modal.getInstance(document.querySelector('.modal')).hide();
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
            notification.style.cssText = 'top: 90px; right: 20px; z-index: 2050; min-width: 300px;';
            notification.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }

        // 资讯分类管理辅助函数
        function createNewsCategory() {
            showNotification('添加资讯分类功能开发中...', 'info');
        }

        function editNewsCategory(category) {
            showNotification(`编辑资讯分类 "${category}" 功能开发中...`, 'info');
        }

        function deleteNewsCategory(category) {
            if (confirm(`确定要删除资讯分类 "${category}" 吗？`)) {
                showNotification(`删除资讯分类 "${category}" 功能开发中...`, 'info');
            }
        }

        function refreshNewsCategories() {
            showNewsCategories();
            showNotification('资讯分类数据已刷新', 'success');
        }

        // 案例管理辅助函数
        function createIndustry() {
            showNotification('添加行业分类功能开发中...', 'info');
        }

        function editIndustry(id) {
            showNotification('编辑行业分类功能开发中...', 'info');
        }

        function viewIndustryCases(industry) {
            showCasesList();
            setTimeout(() => {
                const cases = contentData.cases.filter(c => c.industry === industry);
                currentData = cases;
                filteredData = [...cases];
                updateTableBody();
                showNotification(`显示 ${industry} 行业案例 (${cases.length} 个)`, 'info');
            }, 100);
        }

        function createApplication() {
            showNotification('添加应用领域功能开发中...', 'info');
        }

        function editApplication(id) {
            showNotification('编辑应用领域功能开发中...', 'info');
        }

        function viewApplicationCases(application) {
            showCasesList();
            setTimeout(() => {
                const cases = contentData.cases.filter(c => c.application === application);
                currentData = cases;
                filteredData = [...cases];
                updateTableBody();
                showNotification(`显示 ${application} 应用案例 (${cases.length} 个)`, 'info');
            }, 100);
        }

        function refreshIndustries() {
            showCaseIndustries();
            showNotification('行业分类数据已刷新', 'success');
        }

        function refreshApplications() {
            showCaseApplications();
            showNotification('应用领域数据已刷新', 'success');
        }

        // 页面管理辅助函数
        function editPageContent(pageType) {
            showNotification(`打开 ${pageType} 页面编辑器...`, 'info');
            // 这里可以打开富文本编辑器
        }

        function previewPage(pageType) {
            const pageUrls = {
                'business': '/business/',
                'applications': '/applications/',
                'about': '/about/',
                'contact': '/contact/'
            };

            if (pageUrls[pageType]) {
                window.open(pageUrls[pageType], '_blank');
            } else {
                showNotification('页面预览功能开发中...', 'info');
            }
        }

        function backupPage(pageType) {
            showNotification(`备份 ${pageType} 页面功能开发中...`, 'info');
        }

        function savePageContent(pageType) {
            const title = document.getElementById('pageTitle').value;
            const description = document.getElementById('pageDescription').value;
            const content = document.getElementById('pageContent').value;

            showNotification(`保存 ${pageType} 页面内容: ${title}`, 'success');
        }

        function resetPageContent(pageType) {
            if (confirm('确定要重置页面内容吗？')) {
                showNotification(`重置 ${pageType} 页面内容`, 'info');
                // 重新渲染页面编辑器
                const pageNames = {
                    'business': '商务服务',
                    'applications': '应用领域',
                    'about': '关于我们',
                    'contact': '联系我们'
                };
                renderPageEditor(pageType, pageNames[pageType]);
            }
        }

        // 系统设置辅助函数
        function saveSiteSettings() {
            const siteName = document.getElementById('siteName').value;
            const siteDescription = document.getElementById('siteDescription').value;

            showNotification(`网站设置已保存: ${siteName}`, 'success');
        }

        function resetSiteSettings() {
            if (confirm('确定要重置网站设置吗？')) {
                renderSiteSettings();
                showNotification('网站设置已重置', 'info');
            }
        }

        function saveSEOSettings() {
            const seoTitle = document.getElementById('seoTitle').value;
            const seoDescription = document.getElementById('seoDescription').value;

            showNotification(`SEO设置已保存: ${seoTitle}`, 'success');
        }

        function resetSEOSettings() {
            if (confirm('确定要重置SEO设置吗？')) {
                renderSEOSettings();
                showNotification('SEO设置已重置', 'info');
            }
        }

        function generateSitemap() {
            showNotification('正在生成站点地图...', 'info');
            setTimeout(() => {
                showNotification('站点地图生成完成', 'success');
            }, 2000);
        }

        // 备份恢复辅助函数
        function createBackup() {
            const backupName = document.getElementById('backupName').value;
            showNotification(`正在创建备份: ${backupName}...`, 'info');

            setTimeout(() => {
                showNotification(`备份创建完成: ${backupName}`, 'success');
                renderBackupRestore(); // 刷新备份列表
            }, 3000);
        }

        function restoreBackup() {
            const fileInput = document.getElementById('restoreFile');
            if (!fileInput.files.length) {
                showNotification('请选择备份文件', 'warning');
                return;
            }

            if (confirm('确定要恢复备份吗？这将覆盖当前数据。')) {
                showNotification('正在恢复备份...', 'info');
                setTimeout(() => {
                    showNotification('备份恢复完成', 'success');
                }, 3000);
            }
        }

        function refreshBackups() {
            renderBackupRestore();
            showNotification('备份列表已刷新', 'success');
        }

        function startBackup() {
            createBackup();
        }

        function startRestore() {
            restoreBackup();
        }

        function downloadBackup(backupName) {
            showNotification(`下载备份: ${backupName}`, 'info');
        }

        function restoreFromBackup(backupName) {
            if (confirm(`确定要从备份 "${backupName}" 恢复吗？`)) {
                showNotification(`正在从 ${backupName} 恢复...`, 'info');
                setTimeout(() => {
                    showNotification('备份恢复完成', 'success');
                }, 3000);
            }
        }

        function deleteBackup(backupName) {
            if (confirm(`确定要删除备份 "${backupName}" 吗？`)) {
                showNotification(`备份 ${backupName} 已删除`, 'success');
                renderBackupRestore(); // 刷新备份列表
            }
        }

        // 产品分类管理辅助函数
        function createCategory() {
            showNotification('添加产品分类功能开发中...', 'info');
        }

        function editCategory(id) {
            showNotification('编辑产品分类功能开发中...', 'info');
        }

        function viewCategoryProducts(category) {
            showProductsList();
            setTimeout(() => {
                const products = contentData.products.filter(p => p.primary_category === category || p.secondary_category === category);
                currentData = products;
                filteredData = [...products];
                updateTableBody();
                showNotification(`显示 ${category} 分类产品 (${products.length} 个)`, 'info');
            }, 100);
        }

        function refreshCategories() {
            showProductCategories();
            showNotification('产品分类数据已刷新', 'success');
        }

        // 产品系列管理辅助函数
        function createSeries() {
            showNotification('添加产品系列功能开发中...', 'info');
        }

        function editSeries(id) {
            showNotification('编辑产品系列功能开发中...', 'info');
        }

        function viewSeriesProducts(series) {
            showProductsList();
            setTimeout(() => {
                const products = contentData.products.filter(p => p.series === series);
                currentData = products;
                filteredData = [...products];
                updateTableBody();
                showNotification(`显示 ${series} 系列产品 (${products.length} 个)`, 'info');
            }, 100);
        }

        function refreshSeries() {
            showProductSeries();
            showNotification('产品系列数据已刷新', 'success');
        }

        // 供应商管理辅助函数
        function createSupplier() {
            showNotification('添加供应商功能开发中...', 'info');
        }

        function editSupplier(id) {
            showNotification('编辑供应商功能开发中...', 'info');
        }

        function viewSupplierProducts(supplierId) {
            const supplier = contentData.suppliers.find(s => s.id === supplierId);
            if (supplier) {
                showProductsList();
                setTimeout(() => {
                    const products = contentData.products.filter(p => p.supplier === supplier.title);
                    currentData = products;
                    filteredData = [...products];
                    updateTableBody();
                    showNotification(`显示 ${supplier.title} 的产品 (${products.length} 个)`, 'info');
                }, 100);
            }
        }

        function refreshSuppliers() {
            showSuppliers();
            showNotification('供应商数据已刷新', 'success');
        }

        // 页面初始化
        document.addEventListener('DOMContentLoaded', function() {
            console.log('页面DOM加载完成，开始初始化...');

            // 测试基本功能
            console.log('测试元素访问:');
            console.log('contentTitle:', document.getElementById('contentTitle'));
            console.log('contentSubtitle:', document.getElementById('contentSubtitle'));

            // 测试菜单项点击事件
            const sidebarItems = document.querySelectorAll('.sidebar-item');
            console.log('找到侧边栏菜单项:', sidebarItems.length, '个');

            // 为每个菜单项添加调试信息
            sidebarItems.forEach((item, index) => {
                const onclick = item.getAttribute('onclick');
                console.log(`菜单项 ${index + 1}: ${item.textContent.trim()} - onclick: ${onclick}`);

                // 添加额外的点击事件监听器用于调试
                item.addEventListener('click', function(e) {
                    console.log('菜单项被点击:', item.textContent.trim());
                    console.log('onclick属性:', onclick);
                });
            });

            // 加载内容数据
            loadContentData();

            // 设置默认展开的菜单
            const homepageSection = document.getElementById('homepage-content');
            const newsSection = document.getElementById('news-content');
            const productsSection = document.getElementById('products-content');
            const casesSection = document.getElementById('cases-content');

            if (homepageSection) homepageSection.classList.add('show');
            if (newsSection) newsSection.classList.add('show');
            if (productsSection) productsSection.classList.add('show');
            if (casesSection) casesSection.classList.add('show');

            console.log('内容管理系统初始化完成');
        });


    </script>
</body>
</html>
